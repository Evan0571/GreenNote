2025-11-18 14:04:55.323 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 14:04:55.326 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 14:04:55.331 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 14:04:55.335 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 14:04:56.081 [nacos-grpc-client-executor-127.0.0.1-1803] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Receive server push request, request = NotifySubscriberRequest, requestId = 46
2025-11-18 14:04:56.089 [nacos-grpc-client-executor-127.0.0.1-1803] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.36.15.120","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:04:56.089 [nacos-grpc-client-executor-127.0.0.1-1803] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-user -> []
2025-11-18 14:04:56.095 [nacos-grpc-client-executor-127.0.0.1-1803] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Ack server push request, request = NotifySubscriberRequest, requestId = 46
2025-11-18 14:04:56.098 [nacos-grpc-client-executor-127.0.0.1-1804] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Receive server push request, request = NotifySubscriberRequest, requestId = 47
2025-11-18 14:04:56.099 [nacos-grpc-client-executor-127.0.0.1-1804] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.36.15.120","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:04:56.099 [nacos-grpc-client-executor-127.0.0.1-1804] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> []
2025-11-18 14:04:56.101 [nacos-grpc-client-executor-127.0.0.1-1804] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Ack server push request, request = NotifySubscriberRequest, requestId = 47
2025-11-18 14:04:58.189 [nacos-grpc-client-executor-127.0.0.1-1805] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Receive server push request, request = NotifySubscriberRequest, requestId = 48
2025-11-18 14:04:58.200 [nacos-grpc-client-executor-127.0.0.1-1805] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.36.15.120","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:04:58.200 [nacos-grpc-client-executor-127.0.0.1-1805] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-kv -> []
2025-11-18 14:04:58.202 [nacos-grpc-client-executor-127.0.0.1-1805] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Ack server push request, request = NotifySubscriberRequest, requestId = 48
2025-11-18 14:05:14.116 [nacos-grpc-client-executor-127.0.0.1-1808] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Receive server push request, request = NotifySubscriberRequest, requestId = 49
2025-11-18 14:05:14.117 [nacos-grpc-client-executor-127.0.0.1-1808] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:05:14.118 [nacos-grpc-client-executor-127.0.0.1-1808] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:05:14.119 [nacos-grpc-client-executor-127.0.0.1-1808] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Ack server push request, request = NotifySubscriberRequest, requestId = 49
2025-11-18 14:05:17.241 [nacos-grpc-client-executor-127.0.0.1-1809] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Receive server push request, request = NotifySubscriberRequest, requestId = 50
2025-11-18 14:05:17.241 [nacos-grpc-client-executor-127.0.0.1-1809] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:05:17.242 [nacos-grpc-client-executor-127.0.0.1-1809] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:05:17.243 [nacos-grpc-client-executor-127.0.0.1-1809] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Ack server push request, request = NotifySubscriberRequest, requestId = 50
2025-11-18 14:05:23.087 [nacos-grpc-client-executor-127.0.0.1-1810] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Receive server push request, request = NotifySubscriberRequest, requestId = 51
2025-11-18 14:05:23.088 [nacos-grpc-client-executor-127.0.0.1-1810] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:05:23.088 [nacos-grpc-client-executor-127.0.0.1-1810] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:05:23.090 [nacos-grpc-client-executor-127.0.0.1-1810] INFO  com.alibaba.nacos.common.remote.client - [30c32b08-7af0-44d2-b17e-9d62a8a2fc88] Ack server push request, request = NotifySubscriberRequest, requestId = 51
2025-11-18 14:05:26.967 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 14:05:26.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.36.15.120', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 14:05:26.973 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 14:05:26.974 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 14:05:26.975 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2b59c738[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 14:05:26.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763391500543_127.0.0.1_39877
2025-11-18 14:05:26.978 [nacos-grpc-client-executor-127.0.0.1-1812] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763391500543_127.0.0.1_39877]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 14:05:26.985 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4bdd68a0[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1813]
2025-11-18 14:05:26.985 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@e6df15c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2969]
2025-11-18 14:05:26.986 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 14:05:26.986 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 14:05:26.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 14:05:26.989 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:05:26.989 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:05:30.005 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 14:05:30.008 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 14:05:30.008 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:05:38.733 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:05:38.838 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:05:39.606 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:05:39.626 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:05:39.628 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 14:05:40.678 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 14:05:40.683 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 14:05:40.721 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-18 14:05:41.129 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 14:05:41.184 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.186 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.189 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.606 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.696 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.702 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.712 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.713 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x0000026ace51aa58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.717 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.751 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:41.754 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:05:42.340 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 14:05:42.361 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 14:05:42.361 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 14:05:42.540 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 14:05:42.541 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2882 ms
2025-11-18 14:05:46.791 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:05:46.792 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 14:05:46.865 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 14:05:47.403 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 14:05:47.934 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:05:47.999 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:05:48.037 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:05:48.072 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 14:05:51.232 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:05:51.233 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 14:05:54.322 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:05:54.323 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 14:05:55.824 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 14:05:55.836 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:05:55.837 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 14:05:55.839 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 14:05:55.840 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 14:05:55.890 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 14:05:55.890 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 14:05:55.892 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 14:05:55.899 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 14:05:55.899 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 14:05:55.905 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 14:05:55.920 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 11c4c922-978e-4b89-be7e-d42e8887201d
2025-11-18 14:05:55.959 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 14:05:55.959 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 14:05:55.959 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 14:05:55.964 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 14:05:56.026 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 14:05:57.673 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763445957388_127.0.0.1_32020
2025-11-18 14:05:57.674 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Notify connected event to listeners.
2025-11-18 14:05:57.674 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 14:05:57.674 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 14:05:57.674 [main] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x0000026ace9d6608
2025-11-18 14:05:57.676 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 14:05:57.696 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 14:05:57.903 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 20.269 seconds (process running for 21.132)
2025-11-18 14:08:05.801 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 14:08:05.802 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 14:08:05.804 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 14:08:06.009 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 1","content":"取消点赞测试 1","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 14:08:06.161 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:08:06.183 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:08:06.204 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:08:06.479 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:08:06.485 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:08:06.485 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:08:06.712 [nacos-grpc-client-executor-127.0.0.1-39] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Receive server push request, request = NotifySubscriberRequest, requestId = 55
2025-11-18 14:08:06.714 [nacos-grpc-client-executor-127.0.0.1-39] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Ack server push request, request = NotifySubscriberRequest, requestId = 55
2025-11-18 14:08:06.991 [nacos-grpc-client-executor-127.0.0.1-40] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Receive server push request, request = NotifySubscriberRequest, requestId = 56
2025-11-18 14:08:06.992 [nacos-grpc-client-executor-127.0.0.1-40] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Ack server push request, request = NotifySubscriberRequest, requestId = 56
2025-11-18 14:08:07.622 [http-nio-8086-exec-1] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - ==> 笔记储存失败
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'creator_id' cannot be null
### The error may exist in file [C:\Users\12482\IdeaProjects\GreenNote\GreenNote-note\GreenNote-note-biz\target\classes\mapper\NoteDOMapper.xml]
### The error may involve com.evan.greennote.note.biz.domain.mapper.NoteDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_note (id, title, is_content_empty,        creator_id, topic_id, topic_name,        is_top, `type`, img_uris, video_uri,        visible, create_time, update_time,        `status`, content_uuid)     values (?, ?, ?,        ?, ?, ?,        ?, ?, ?, ?,        ?, ?, ?,        ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'creator_id' cannot be null
; Column 'creator_id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:95)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy90.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy91.insert(Unknown Source)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl.publishNote(NoteServiceImpl.java:174)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.publishNote(<generated>)
	at com.evan.greennote.note.biz.controller.NoteController.publishNote(NoteController.java:27)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.evan.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.evan.greennote.note.biz.controller.NoteController$$SpringCGLIB$$0.publishNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.evan.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:28)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'creator_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 96 common frames omitted
2025-11-18 14:08:07.934 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1930ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:08:56.582 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 2","content":"取消点赞测试 2","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 14:08:56.635 [http-nio-8086-exec-2] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - ==> 笔记储存失败
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'creator_id' cannot be null
### The error may exist in file [C:\Users\12482\IdeaProjects\GreenNote\GreenNote-note\GreenNote-note-biz\target\classes\mapper\NoteDOMapper.xml]
### The error may involve com.evan.greennote.note.biz.domain.mapper.NoteDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_note (id, title, is_content_empty,        creator_id, topic_id, topic_name,        is_top, `type`, img_uris, video_uri,        visible, create_time, update_time,        `status`, content_uuid)     values (?, ?, ?,        ?, ?, ?,        ?, ?, ?, ?,        ?, ?, ?,        ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'creator_id' cannot be null
; Column 'creator_id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:95)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy90.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy91.insert(Unknown Source)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl.publishNote(NoteServiceImpl.java:174)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.publishNote(<generated>)
	at com.evan.greennote.note.biz.controller.NoteController.publishNote(NoteController.java:27)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.evan.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.evan.greennote.note.biz.controller.NoteController$$SpringCGLIB$$0.publishNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.evan.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:28)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'creator_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 96 common frames omitted
2025-11-18 14:08:56.668 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 86ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:14:15.360 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 14:14:15.360 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 14:14:15.360 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 14:14:15.361 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 14:14:16.020 [nacos-grpc-client-executor-127.0.0.1-118] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Receive server push request, request = NotifySubscriberRequest, requestId = 57
2025-11-18 14:14:16.021 [nacos-grpc-client-executor-127.0.0.1-118] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:14:16.022 [nacos-grpc-client-executor-127.0.0.1-118] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> []
2025-11-18 14:14:16.024 [nacos-grpc-client-executor-127.0.0.1-118] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Ack server push request, request = NotifySubscriberRequest, requestId = 57
2025-11-18 14:14:18.309 [nacos-grpc-client-executor-127.0.0.1-119] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Receive server push request, request = NotifySubscriberRequest, requestId = 58
2025-11-18 14:14:18.310 [nacos-grpc-client-executor-127.0.0.1-119] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:14:18.310 [nacos-grpc-client-executor-127.0.0.1-119] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-kv -> []
2025-11-18 14:14:18.318 [nacos-grpc-client-executor-127.0.0.1-119] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Ack server push request, request = NotifySubscriberRequest, requestId = 58
2025-11-18 14:14:28.164 [nacos-grpc-client-executor-127.0.0.1-121] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Receive server push request, request = NotifySubscriberRequest, requestId = 59
2025-11-18 14:14:28.165 [nacos-grpc-client-executor-127.0.0.1-121] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:14:28.165 [nacos-grpc-client-executor-127.0.0.1-121] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:14:28.167 [nacos-grpc-client-executor-127.0.0.1-121] INFO  com.alibaba.nacos.common.remote.client - [11c4c922-978e-4b89-be7e-d42e8887201d] Ack server push request, request = NotifySubscriberRequest, requestId = 59
2025-11-18 14:14:28.348 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 14:14:28.348 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 14:14:28.352 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 14:14:28.353 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@38cf7278[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 14:14:28.354 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763445957388_127.0.0.1_32020
2025-11-18 14:14:28.355 [nacos-grpc-client-executor-127.0.0.1-123] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763445957388_127.0.0.1_32020]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 14:14:28.361 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@769cdc3e[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 124]
2025-11-18 14:14:28.361 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2bf3ccf[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 170]
2025-11-18 14:14:28.361 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 14:14:28.361 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 14:14:28.362 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 14:14:28.363 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:14:28.363 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:14:31.374 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 14:14:31.387 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 14:14:31.388 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:14:46.536 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:14:46.643 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:14:47.467 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:14:47.492 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:14:47.494 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 14:14:48.684 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 14:14:48.689 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 14:14:48.732 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-11-18 14:14:49.194 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 14:14:49.264 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.268 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.270 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.725 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.846 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.852 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.859 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.861 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x0000016d1a51aca8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.865 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.880 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:49.882 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:14:50.403 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 14:14:50.434 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 14:14:50.435 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 14:14:50.674 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 14:14:50.675 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3149 ms
2025-11-18 14:14:55.192 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:14:55.193 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 14:14:55.297 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 14:14:55.853 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 14:14:56.438 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:14:56.535 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:14:56.574 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:14:56.622 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 14:14:59.798 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:14:59.798 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 14:15:02.881 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:15:02.881 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 14:15:04.452 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 14:15:04.467 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:15:04.467 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 14:15:04.468 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 14:15:04.470 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 14:15:04.517 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 14:15:04.517 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 14:15:04.519 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 14:15:04.529 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 14:15:04.529 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 14:15:04.535 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 14:15:04.551 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of de6d32a0-9a4e-41a8-a977-63e6c71a744f
2025-11-18 14:15:04.600 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 14:15:04.600 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 14:15:04.605 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 14:15:04.616 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 14:15:04.691 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 14:15:06.262 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763446505993_127.0.0.1_7679
2025-11-18 14:15:06.264 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Notify connected event to listeners.
2025-11-18 14:15:06.264 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 14:15:06.264 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 14:15:06.265 [main] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x0000016d1a9d5d88
2025-11-18 14:15:06.267 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 14:15:06.296 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 14:15:06.541 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 21.408 seconds (process running for 22.41)
2025-11-18 14:15:53.251 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 14:15:53.251 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 14:15:53.252 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-18 14:15:53.267 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:15:53.445 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 1","content":"取消点赞测试 1","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 14:15:53.458 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:15:53.576 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:15:53.604 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:15:53.621 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:15:53.856 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:15:53.879 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:15:53.886 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:15:53.886 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:15:54.162 [nacos-grpc-client-executor-127.0.0.1-25] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Receive server push request, request = NotifySubscriberRequest, requestId = 61
2025-11-18 14:15:54.164 [nacos-grpc-client-executor-127.0.0.1-25] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Ack server push request, request = NotifySubscriberRequest, requestId = 61
2025-11-18 14:15:54.432 [nacos-grpc-client-executor-127.0.0.1-26] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Receive server push request, request = NotifySubscriberRequest, requestId = 62
2025-11-18 14:15:54.434 [nacos-grpc-client-executor-127.0.0.1-26] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Ack server push request, request = NotifySubscriberRequest, requestId = 62
2025-11-18 14:15:54.879 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1436ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:15:54.898 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:16:04.014 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:16:04.016 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 2","content":"取消点赞测试 2","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 14:16:04.017 [http-nio-8086-exec-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:16:04.030 [http-nio-8086-exec-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:16:04.077 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 61ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:16:04.078 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:16:31.890 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:16:31.898 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990665287745146922}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:16:32.366 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:16:32.366 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:16:32.390 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:16:32.396 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:16:32.396 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:16:32.457 [http-nio-8086-exec-3] ERROR c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request error, 
org.springframework.data.redis.RedisSystemException: Error in execution
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:52)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:50)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:248)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:961)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$4(LettuceConnection.java:818)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultSingleInvocationSpec.get(LettuceInvoker.java:589)
	at org.springframework.data.redis.connection.lettuce.LettuceScriptingCommands.eval(LettuceScriptingCommands.java:85)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.eval(DefaultedRedisConnection.java:1824)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.redis.core.CloseSuppressingInvocationHandler.invoke(CloseSuppressingInvocationHandler.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy141.eval(Unknown Source)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.eval(DefaultScriptExecutor.java:84)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.lambda$execute$0(DefaultScriptExecutor.java:68)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:406)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:373)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:360)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.execute(DefaultScriptExecutor.java:58)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.execute(DefaultScriptExecutor.java:52)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:503)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl.unlikeNote(NoteServiceImpl.java:805)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.unlikeNote(<generated>)
	at com.evan.greennote.note.biz.controller.NoteController.unlikeNote(NoteController.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.evan.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.evan.greennote.note.biz.controller.NoteController$$SpringCGLIB$$0.unlikeNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.evan.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: io.lettuce.core.RedisCommandExecutionException: ERR user_script:1: Script attempted to access nonexistent global variable 'KEY' script: 3e0ce6fb89e94de3499f3a614aa8a99d1ee09f56, on @user_script:1.
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:147)
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:116)
	at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120)
	at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111)
	at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:747)
	at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:682)
	at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:599)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2025-11-18 14:16:32.467 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:16:32.981 [nacos-grpc-client-executor-127.0.0.1-38] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Receive server push request, request = NotifySubscriberRequest, requestId = 63
2025-11-18 14:16:32.982 [nacos-grpc-client-executor-127.0.0.1-38] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Ack server push request, request = NotifySubscriberRequest, requestId = 63
2025-11-18 14:17:04.154 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:17:04.157 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421825204518929}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:17:04.171 [http-nio-8086-exec-4] ERROR c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request error, 
org.springframework.data.redis.RedisSystemException: Error in execution
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:52)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:50)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:248)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:961)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$4(LettuceConnection.java:818)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultSingleInvocationSpec.get(LettuceInvoker.java:589)
	at org.springframework.data.redis.connection.lettuce.LettuceScriptingCommands.evalSha(LettuceScriptingCommands.java:99)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.evalSha(DefaultedRedisConnection.java:1831)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.redis.core.CloseSuppressingInvocationHandler.invoke(CloseSuppressingInvocationHandler.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy141.evalSha(Unknown Source)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.eval(DefaultScriptExecutor.java:77)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.lambda$execute$0(DefaultScriptExecutor.java:68)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:406)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:373)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:360)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.execute(DefaultScriptExecutor.java:58)
	at org.springframework.data.redis.core.script.DefaultScriptExecutor.execute(DefaultScriptExecutor.java:52)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:503)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl.unlikeNote(NoteServiceImpl.java:805)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.evan.greennote.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.unlikeNote(<generated>)
	at com.evan.greennote.note.biz.controller.NoteController.unlikeNote(NoteController.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.evan.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.evan.greennote.note.biz.controller.NoteController$$SpringCGLIB$$0.unlikeNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.evan.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: io.lettuce.core.RedisCommandExecutionException: ERR user_script:1: Script attempted to access nonexistent global variable 'KEY' script: 3e0ce6fb89e94de3499f3a614aa8a99d1ee09f56, on @user_script:1.
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:147)
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:116)
	at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120)
	at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111)
	at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:747)
	at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:682)
	at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:599)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2025-11-18 14:17:04.173 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:18:50.562 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 14:18:50.562 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 14:18:50.563 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 14:18:50.563 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 14:18:51.172 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Receive server push request, request = NotifySubscriberRequest, requestId = 64
2025-11-18 14:18:51.173 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:18:51.174 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-user -> []
2025-11-18 14:18:51.176 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Ack server push request, request = NotifySubscriberRequest, requestId = 64
2025-11-18 14:18:51.178 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Receive server push request, request = NotifySubscriberRequest, requestId = 65
2025-11-18 14:18:51.178 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:18:51.179 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> []
2025-11-18 14:18:51.180 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Ack server push request, request = NotifySubscriberRequest, requestId = 65
2025-11-18 14:18:53.288 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Receive server push request, request = NotifySubscriberRequest, requestId = 66
2025-11-18 14:18:53.293 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 14:18:53.293 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-kv -> []
2025-11-18 14:18:53.295 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.common.remote.client - [de6d32a0-9a4e-41a8-a977-63e6c71a744f] Ack server push request, request = NotifySubscriberRequest, requestId = 66
2025-11-18 14:19:03.889 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 14:19:03.890 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 14:19:03.894 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 14:19:03.895 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@19e4e781[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 14:19:03.896 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763446505993_127.0.0.1_7679
2025-11-18 14:19:03.897 [nacos-grpc-client-executor-127.0.0.1-75] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763446505993_127.0.0.1_7679]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 14:19:03.902 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@14b6d87c[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 76]
2025-11-18 14:19:03.903 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@68d3e36d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 79]
2025-11-18 14:19:03.903 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 14:19:03.903 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 14:19:03.903 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 14:19:03.904 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:19:03.904 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:19:09.917 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 14:19:09.930 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 14:19:09.930 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:19:18.147 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:19:18.271 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:19:19.131 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:19:19.156 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:19:19.157 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 14:19:20.337 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 14:19:20.343 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 14:19:20.388 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-18 14:19:20.854 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 14:19:20.937 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:20.940 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:20.944 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.463 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.580 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.586 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.593 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.594 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000001d8b051aca8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.598 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.621 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:21.622 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 14:19:22.187 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 14:19:22.210 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 14:19:22.210 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 14:19:22.440 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 14:19:22.440 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3250 ms
2025-11-18 14:19:26.890 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:19:26.891 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 14:19:26.957 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 14:19:27.461 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 14:19:28.005 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:19:28.089 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:19:28.130 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 14:19:28.175 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 14:19:31.328 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:19:31.328 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 14:19:34.413 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 14:19:34.413 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 14:19:35.820 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 14:19:35.832 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 14:19:35.833 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 14:19:35.834 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 14:19:35.836 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 14:19:35.883 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 14:19:35.883 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 14:19:35.885 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 14:19:35.890 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 14:19:35.890 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 14:19:35.894 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 14:19:35.908 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of aa35bbeb-9a5f-473d-b2d9-025476598984
2025-11-18 14:19:35.942 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 14:19:35.942 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 14:19:35.943 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 14:19:35.949 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 14:19:35.999 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 14:19:37.721 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763446777105_127.0.0.1_24057
2025-11-18 14:19:37.723 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Notify connected event to listeners.
2025-11-18 14:19:37.723 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 14:19:37.724 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 14:19:37.724 [main] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x000001d8b09d6608
2025-11-18 14:19:37.726 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 14:19:37.748 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 14:19:37.999 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 21.103 seconds (process running for 22.352)
2025-11-18 14:19:52.265 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 14:19:52.265 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 14:19:52.267 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 14:19:52.284 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:19:52.480 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990665244854194182}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:19:53.474 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:19:53.474 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 14:19:53.546 [http-nio-8086-exec-1] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request fail, errorCode: NOTE-20010, errorMessage: 您没有点赞过该笔记,无法取消点赞
2025-11-18 14:19:53.566 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:19:53.596 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:19:53.596 [NoteExecutor-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 14:19:53.624 [NoteExecutor-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:19:53.624 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:19:53.641 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:19:53.641 [NoteExecutor-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 14:19:54.177 [nacos-grpc-client-executor-127.0.0.1-15] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Receive server push request, request = NotifySubscriberRequest, requestId = 68
2025-11-18 14:19:54.178 [nacos-grpc-client-executor-127.0.0.1-15] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Ack server push request, request = NotifySubscriberRequest, requestId = 68
2025-11-18 14:19:54.182 [nacos-grpc-client-executor-127.0.0.1-16] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Receive server push request, request = NotifySubscriberRequest, requestId = 69
2025-11-18 14:19:54.183 [nacos-grpc-client-executor-127.0.0.1-16] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Ack server push request, request = NotifySubscriberRequest, requestId = 69
2025-11-18 14:20:05.309 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:20:05.311 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421825204518929}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:20:05.343 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 31ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:20:05.347 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:20:28.370 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:20:28.373 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421825204518929}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:20:28.385 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 12ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:20:28.386 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:20:30.086 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:20:30.088 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421825204518929}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:20:30.100 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 12ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:20:30.102 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 14:20:31.506 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 14:20:31.509 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421825204518929}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 14:20:31.519 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 14:20:31.520 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:49:21.964 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 15:49:21.965 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 15:49:21.968 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 15:49:21.976 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 15:49:22.640 [nacos-grpc-client-executor-127.0.0.1-397] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Receive server push request, request = NotifySubscriberRequest, requestId = 70
2025-11-18 15:49:22.642 [nacos-grpc-client-executor-127.0.0.1-397] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 15:49:22.643 [nacos-grpc-client-executor-127.0.0.1-397] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-user -> []
2025-11-18 15:49:22.646 [nacos-grpc-client-executor-127.0.0.1-397] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Ack server push request, request = NotifySubscriberRequest, requestId = 70
2025-11-18 15:49:24.767 [nacos-grpc-client-executor-127.0.0.1-398] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Receive server push request, request = NotifySubscriberRequest, requestId = 71
2025-11-18 15:49:24.768 [nacos-grpc-client-executor-127.0.0.1-398] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 15:49:24.768 [nacos-grpc-client-executor-127.0.0.1-398] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-kv -> []
2025-11-18 15:49:24.769 [nacos-grpc-client-executor-127.0.0.1-398] INFO  com.alibaba.nacos.common.remote.client - [aa35bbeb-9a5f-473d-b2d9-025476598984] Ack server push request, request = NotifySubscriberRequest, requestId = 71
2025-11-18 15:49:32.502 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 15:49:32.502 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 15:49:32.507 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 15:49:32.507 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4f487bc8[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 15:49:32.508 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763446777105_127.0.0.1_24057
2025-11-18 15:49:32.510 [nacos-grpc-client-executor-127.0.0.1-400] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763446777105_127.0.0.1_24057]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 15:49:32.516 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3b876d28[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 401]
2025-11-18 15:49:32.517 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@5cee439d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 621]
2025-11-18 15:49:32.517 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 15:49:32.518 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 15:49:32.518 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 15:49:32.518 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:49:32.519 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:49:38.553 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 15:49:38.554 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 15:49:38.554 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:49:56.263 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:49:56.410 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:49:57.314 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:49:57.345 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:49:57.347 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 15:49:58.904 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 15:49:58.909 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 15:49:58.955 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-18 15:49:59.438 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 15:49:59.524 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:49:59.527 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:49:59.530 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.063 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.202 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.206 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.213 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.214 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000001c59151aa58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.219 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.244 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.246 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:50:00.735 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 15:50:00.753 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 15:50:00.754 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 15:50:00.989 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 15:50:00.989 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3603 ms
2025-11-18 15:50:05.543 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:50:05.544 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 15:50:05.632 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 15:50:06.195 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 15:50:06.793 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 15:50:06.878 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 15:50:06.918 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 15:50:06.962 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 15:50:10.164 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:50:10.165 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 15:50:13.698 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:50:13.698 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 15:50:15.206 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 15:50:15.218 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:50:15.218 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 15:50:15.219 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 15:50:15.220 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 15:50:15.263 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 15:50:15.264 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 15:50:15.266 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 15:50:15.281 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 15:50:15.281 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 15:50:15.287 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 15:50:15.305 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 2a8efe00-406e-4c82-86c4-aa740c628322
2025-11-18 15:50:15.337 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 15:50:15.337 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 15:50:15.337 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 15:50:15.341 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 15:50:15.392 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 15:50:16.721 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763452216462_127.0.0.1_29107
2025-11-18 15:50:16.723 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Notify connected event to listeners.
2025-11-18 15:50:16.723 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 15:50:16.724 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 15:50:16.724 [main] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x000001c5919d6e80
2025-11-18 15:50:16.725 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 15:50:16.747 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 15:50:16.943 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 22.252 seconds (process running for 23.203)
2025-11-18 15:52:26.302 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 15:52:26.302 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 15:52:26.304 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 15:52:26.320 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:52:26.512 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 3","content":"取消点赞测试 3","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 15:52:26.523 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 15:52:26.632 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 15:52:26.654 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:52:26.668 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:52:26.897 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 15:52:26.919 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 15:52:26.925 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:52:26.925 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:52:27.208 [nacos-grpc-client-executor-127.0.0.1-43] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Receive server push request, request = NotifySubscriberRequest, requestId = 73
2025-11-18 15:52:27.208 [nacos-grpc-client-executor-127.0.0.1-43] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Ack server push request, request = NotifySubscriberRequest, requestId = 73
2025-11-18 15:52:27.527 [nacos-grpc-client-executor-127.0.0.1-44] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Receive server push request, request = NotifySubscriberRequest, requestId = 74
2025-11-18 15:52:27.527 [nacos-grpc-client-executor-127.0.0.1-44] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Ack server push request, request = NotifySubscriberRequest, requestId = 74
2025-11-18 15:52:28.285 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1777ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 15:52:28.314 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:52:47.235 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:52:47.242 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 15:52:47.784 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 15:52:47.784 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 15:52:47.803 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 15:52:47.806 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:52:47.807 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:52:47.844 [http-nio-8086-exec-2] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request fail, errorCode: NOTE-20010, errorMessage: 您没有点赞过该笔记,无法取消点赞
2025-11-18 15:52:47.847 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:52:48.356 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Receive server push request, request = NotifySubscriberRequest, requestId = 75
2025-11-18 15:52:48.356 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Ack server push request, request = NotifySubscriberRequest, requestId = 75
2025-11-18 15:52:50.833 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:52:50.834 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 15:52:50.844 [http-nio-8086-exec-6] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request fail, errorCode: NOTE-20010, errorMessage: 您没有点赞过该笔记,无法取消点赞
2025-11-18 15:52:50.846 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:53:00.946 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:53:00.953 [http-nio-8086-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 15:53:00.960 [http-nio-8086-exec-8] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: 0
2025-11-18 15:53:00.986 [http-nio-8086-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记点赞], 耗时: 34ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 15:53:00.989 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:53:06.799 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:53:06.801 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 15:53:06.814 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 13ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 15:53:06.815 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:53:07.026 [AsyncSenderExecutor_1] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [点赞笔记] MQ发送异常，throwable：{}
org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to 10.36.15.120:10911 failed
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeAsync(NettyRemotingClient.java:548)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:542)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.onExceptionImpl(MQClientAPIImpl.java:634)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:604)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.onExceptionImpl(MQClientAPIImpl.java:634)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:604)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.onExceptionImpl(MQClientAPIImpl.java:634)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:604)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessage(MQClientAPIImpl.java:497)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendKernelImpl(DefaultMQProducerImpl.java:817)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendSelectImpl(DefaultMQProducerImpl.java:1144)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.access$600(DefaultMQProducerImpl.java:98)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl$5.run(DefaultMQProducerImpl.java:1189)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-18 15:53:08.464 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:53:08.466 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 15:53:08.473 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 7ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 15:53:08.474 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:53:09.948 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 15:53:09.951 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 15:53:09.958 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 7ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 15:53:09.959 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 15:54:28.457 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 15:54:28.458 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 15:54:28.458 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 15:54:28.459 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 15:54:29.057 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Receive server push request, request = NotifySubscriberRequest, requestId = 76
2025-11-18 15:54:29.059 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:54:29.060 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-user -> []
2025-11-18 15:54:29.061 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Ack server push request, request = NotifySubscriberRequest, requestId = 76
2025-11-18 15:54:29.064 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Receive server push request, request = NotifySubscriberRequest, requestId = 77
2025-11-18 15:54:29.065 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:54:29.065 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> []
2025-11-18 15:54:29.066 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Ack server push request, request = NotifySubscriberRequest, requestId = 77
2025-11-18 15:54:31.184 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Receive server push request, request = NotifySubscriberRequest, requestId = 78
2025-11-18 15:54:31.187 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 15:54:31.187 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@GreenNote-kv -> []
2025-11-18 15:54:31.189 [nacos-grpc-client-executor-127.0.0.1-72] INFO  com.alibaba.nacos.common.remote.client - [2a8efe00-406e-4c82-86c4-aa740c628322] Ack server push request, request = NotifySubscriberRequest, requestId = 78
2025-11-18 15:54:38.900 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 15:54:38.901 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 15:54:38.907 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 15:54:38.907 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 15:54:38.908 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 15:54:38.908 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 15:54:38.908 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@557166df[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 15:54:38.909 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763452216462_127.0.0.1_29107
2025-11-18 15:54:38.910 [nacos-grpc-client-executor-127.0.0.1-74] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763452216462_127.0.0.1_29107]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 15:54:38.914 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7ce8d1d3[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 75]
2025-11-18 15:54:38.914 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@7c36023a[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 87]
2025-11-18 15:54:38.914 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 15:54:38.914 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 15:54:38.914 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 15:54:38.916 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:54:38.916 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:54:44.041 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 15:54:44.057 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 15:54:44.057 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:59:07.990 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:59:08.118 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:59:08.991 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:59:09.017 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:59:09.018 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 15:59:10.446 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 15:59:10.452 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 15:59:10.497 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-11-18 15:59:10.953 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 15:59:11.028 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.031 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.033 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.509 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.650 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.656 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.668 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.670 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000002a01151aca8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.674 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.684 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:11.687 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 15:59:12.175 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 15:59:12.196 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 15:59:12.196 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 15:59:12.425 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 15:59:12.426 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3371 ms
2025-11-18 15:59:16.983 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:59:16.983 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 15:59:17.089 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 15:59:17.864 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 15:59:18.631 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 15:59:18.729 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 15:59:18.774 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 15:59:18.820 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 15:59:22.003 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:59:22.004 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 15:59:25.125 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 15:59:25.125 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 15:59:26.946 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 15:59:26.960 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 15:59:26.960 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 15:59:26.962 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 15:59:26.963 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 15:59:27.012 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 15:59:27.013 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 15:59:27.015 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 15:59:27.023 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 15:59:27.023 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 15:59:27.027 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 15:59:27.046 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of d6fc86a0-39f2-4d4d-8cb5-dccab68929d1
2025-11-18 15:59:27.082 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 15:59:27.082 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 15:59:27.082 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 15:59:27.087 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 15:59:27.150 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 15:59:28.992 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763452768710_127.0.0.1_39771
2025-11-18 15:59:28.993 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Notify connected event to listeners.
2025-11-18 15:59:28.993 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 15:59:28.993 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 15:59:28.994 [main] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x000002a0119d6608
2025-11-18 15:59:28.996 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 15:59:29.020 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 15:59:29.258 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 22.756 seconds (process running for 23.677)
2025-11-18 16:17:07.152 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 16:17:07.153 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 16:17:07.155 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-18 16:17:07.172 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:17:07.392 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 4","content":"取消点赞测试 4","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 16:17:07.420 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 16:17:07.558 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 16:17:07.579 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 16:17:07.597 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 16:17:07.896 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 16:17:07.924 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 16:17:07.952 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 16:17:07.953 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 16:17:08.145 [nacos-grpc-client-executor-127.0.0.1-245] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Receive server push request, request = NotifySubscriberRequest, requestId = 80
2025-11-18 16:17:08.146 [nacos-grpc-client-executor-127.0.0.1-245] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Ack server push request, request = NotifySubscriberRequest, requestId = 80
2025-11-18 16:17:08.520 [nacos-grpc-client-executor-127.0.0.1-246] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Receive server push request, request = NotifySubscriberRequest, requestId = 81
2025-11-18 16:17:08.521 [nacos-grpc-client-executor-127.0.0.1-246] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Ack server push request, request = NotifySubscriberRequest, requestId = 81
2025-11-18 16:17:09.361 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1971ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:17:09.391 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:17:33.641 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:17:33.650 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421793394917424}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:17:34.310 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 661ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:17:34.312 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:17:37.122 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:17:37.124 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421793394917424}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:17:37.135 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:17:37.137 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:17:39.605 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:17:39.607 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990421793394917424}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:17:39.702 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 95ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:17:39.704 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:17:53.188 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:17:53.190 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:17:53.200 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:17:53.203 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:04.765 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:04.768 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:18:04.797 [http-nio-8086-exec-6] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request fail, errorCode: NOTE-20010, errorMessage: 您没有点赞过该笔记,无法取消点赞
2025-11-18 16:18:04.799 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:04.811 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 16:18:04.811 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 16:18:04.839 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 16:18:04.843 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 16:18:04.844 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-11-18 16:18:05.362 [nacos-grpc-client-executor-127.0.0.1-258] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Receive server push request, request = NotifySubscriberRequest, requestId = 82
2025-11-18 16:18:05.362 [nacos-grpc-client-executor-127.0.0.1-258] INFO  com.alibaba.nacos.common.remote.client - [d6fc86a0-39f2-4d4d-8cb5-dccab68929d1] Ack server push request, request = NotifySubscriberRequest, requestId = 82
2025-11-18 16:18:19.037 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:19.039 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990689542637621298}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:18:19.047 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 8ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:18:19.048 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:33.725 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:33.727 [http-nio-8086-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:18:33.740 [http-nio-8086-exec-8] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request fail, errorCode: NOTE-20010, errorMessage: 您没有点赞过该笔记,无法取消点赞
2025-11-18 16:18:33.741 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:39.218 [http-nio-8086-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:39.226 [http-nio-8086-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 16:18:39.232 [http-nio-8086-exec-9] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: 0
2025-11-18 16:18:39.263 [http-nio-8086-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记点赞], 耗时: 37ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:18:39.265 [http-nio-8086-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:40.852 [http-nio-8086-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:40.854 [http-nio-8086-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 16:18:40.859 [http-nio-8086-exec-10] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: 1
2025-11-18 16:18:40.863 [http-nio-8086-exec-10] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: 您已经点赞过该笔记
2025-11-18 16:18:40.865 [http-nio-8086-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:44.663 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:44.665 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:18:44.676 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:18:44.679 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:45.914 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:45.915 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:18:45.921 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 6ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:18:45.922 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:47.414 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 16:18:47.416 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990695754305376330}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 16:18:47.422 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 6ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 16:18:47.423 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 16:18:51.337 [AsyncSenderExecutor_1] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [点赞笔记] MQ发送异常，throwable：{}
org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to 10.36.15.120:10911 failed
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeAsync(NettyRemotingClient.java:548)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:542)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.onExceptionImpl(MQClientAPIImpl.java:634)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:604)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.onExceptionImpl(MQClientAPIImpl.java:634)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:604)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.onExceptionImpl(MQClientAPIImpl.java:634)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageAsync(MQClientAPIImpl.java:604)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessage(MQClientAPIImpl.java:497)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendKernelImpl(DefaultMQProducerImpl.java:817)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendSelectImpl(DefaultMQProducerImpl.java:1144)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.access$600(DefaultMQProducerImpl.java:98)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl$5.run(DefaultMQProducerImpl.java:1189)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-18 17:17:36.616 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 17:17:36.629 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 17:17:36.634 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 17:17:36.636 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 17:17:36.918 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 17:17:36.920 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 17:17:36.927 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 17:17:36.928 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 17:17:36.929 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 17:17:36.930 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 17:17:36.930 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 17:17:36.930 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 17:17:36.931 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 17:17:36.931 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 17:17:36.931 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 17:17:36.931 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@39f93348[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 17:17:36.932 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763452768710_127.0.0.1_39771
2025-11-18 17:17:36.935 [nacos-grpc-client-executor-127.0.0.1-978] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763452768710_127.0.0.1_39771]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 17:17:36.954 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2b15fc[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 979]
2025-11-18 17:17:36.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@17895f79[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1560]
2025-11-18 17:17:36.955 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 17:17:36.956 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 17:17:36.956 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 17:17:36.960 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 17:17:36.960 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 17:17:36.988 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 17:17:36.991 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 17:17:36.992 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 17:18:13.305 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 17:18:13.450 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 17:18:14.433 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 17:18:14.465 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 17:18:14.467 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 17:18:15.729 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 17:18:15.733 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 17:18:15.770 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-11-18 17:18:16.189 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 17:18:16.246 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.248 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.250 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.682 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.789 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.793 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.800 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.801 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000002792b51d9f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.805 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.825 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:16.826 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 17:18:17.270 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 17:18:17.287 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 17:18:17.288 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 17:18:17.511 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 17:18:17.511 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3003 ms
2025-11-18 17:18:18.898 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 17:18:18.898 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 17:18:18.988 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 17:18:19.547 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 17:18:20.276 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 17:18:20.367 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 17:18:20.396 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 17:18:20.435 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 17:18:20.598 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 17:18:20.599 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 17:18:20.686 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 17:18:20.686 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 17:18:22.190 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 17:18:22.207 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 17:18:22.207 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 17:18:22.208 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 17:18:22.210 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 17:18:22.256 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 17:18:22.256 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 17:18:22.257 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 17:18:22.263 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 17:18:22.264 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 17:18:22.268 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 17:18:22.282 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4
2025-11-18 17:18:22.313 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 17:18:22.313 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 17:18:22.313 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 17:18:22.317 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 17:18:22.369 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 17:18:23.777 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763457503482_127.0.0.1_8333
2025-11-18 17:18:23.779 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Notify connected event to listeners.
2025-11-18 17:18:23.780 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 17:18:23.780 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 17:18:23.781 [main] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x000002792b9d8440
2025-11-18 17:18:23.783 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 17:18:23.807 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 17:18:24.015 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 12.232 seconds (process running for 13.311)
2025-11-18 17:22:24.670 [http-nio-8086-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 17:22:24.670 [http-nio-8086-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 17:22:24.672 [http-nio-8086-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 17:22:24.687 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:22:24.878 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 10","content":"取消点赞测试 10","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 17:22:24.914 [http-nio-8086-exec-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:22:25.049 [http-nio-8086-exec-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 17:22:25.071 [http-nio-8086-exec-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 17:22:25.090 [http-nio-8086-exec-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 17:22:25.449 [http-nio-8086-exec-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:22:25.476 [http-nio-8086-exec-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 17:22:25.485 [http-nio-8086-exec-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 17:22:25.485 [http-nio-8086-exec-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 17:22:25.624 [nacos-grpc-client-executor-127.0.0.1-74] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Receive server push request, request = NotifySubscriberRequest, requestId = 84
2025-11-18 17:22:25.624 [nacos-grpc-client-executor-127.0.0.1-74] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Ack server push request, request = NotifySubscriberRequest, requestId = 84
2025-11-18 17:22:26.006 [nacos-grpc-client-executor-127.0.0.1-75] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Receive server push request, request = NotifySubscriberRequest, requestId = 85
2025-11-18 17:22:26.007 [nacos-grpc-client-executor-127.0.0.1-75] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Ack server push request, request = NotifySubscriberRequest, requestId = 85
2025-11-18 17:22:27.015 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 2140ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 17:22:27.035 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 17:22:32.157 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:22:32.160 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消点赞测试 11","content":"取消点赞测试 11","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 17:22:32.160 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:22:32.176 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:22:32.243 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 83ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 17:22:32.244 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 17:22:49.841 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:22:49.848 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990712185638096978}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 17:22:50.321 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:22:50.321 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:22:50.345 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 17:22:50.350 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 17:22:50.351 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 17:22:50.429 [http-nio-8086-exec-3] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: 0
2025-11-18 17:22:50.463 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记点赞], 耗时: 615ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 17:22:50.465 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 17:22:50.545 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [点赞笔记] MQ发送成功，SendResult：SendResult [sendStatus=SEND_OK, msgId=7F000001CCFC63947C6B5B46DBF90000, offsetMsgId=7F00000100002A9F000000000189D8F0, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=broker-a, queueId=3], queueOffset=2]
2025-11-18 17:22:50.643 [ConsumeMessageThread_greennote_group_LikeUnlikeTopic_1] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":3,"noteId":1990712185638096978,"type":1,"createTime":"2025-11-18 17:22:50"}, tags: Like
2025-11-18 17:22:50.941 [nacos-grpc-client-executor-127.0.0.1-81] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Receive server push request, request = NotifySubscriberRequest, requestId = 86
2025-11-18 17:22:50.942 [nacos-grpc-client-executor-127.0.0.1-81] INFO  com.alibaba.nacos.common.remote.client - [60a9dc8d-cb50-4aa2-9e45-bc8a64f24aa4] Ack server push request, request = NotifySubscriberRequest, requestId = 86
2025-11-18 17:22:59.102 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:22:59.109 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990712185638096978}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 17:22:59.123 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 15ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 17:22:59.124 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 17:23:00.683 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:23:00.684 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990712185638096978}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 17:23:00.692 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 8ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 17:23:00.693 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 17:23:01.950 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:23:01.952 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990712185638096978}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 17:23:01.959 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 7ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 17:23:01.961 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 17:23:12.097 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 17:23:12.100 [http-nio-8086-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990712214226472997}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 17:23:12.115 [NoteExecutor-6] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:23:12.115 [NoteExecutor-7] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 17:23:12.117 [http-nio-8086-exec-8] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/unlike request fail, errorCode: NOTE-20010, errorMessage: 您没有点赞过该笔记,无法取消点赞
2025-11-18 17:23:12.119 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 19:03:01.001 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 19:03:01.001 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 19:03:01.012 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 19:03:01.013 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 19:03:01.274 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 19:03:01.275 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 19:03:01.280 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 19:03:01.281 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 19:03:01.282 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 19:03:01.282 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 19:03:01.282 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@62ebc1bf[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 19:03:01.283 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763457503482_127.0.0.1_8333
2025-11-18 19:03:01.284 [nacos-grpc-client-executor-127.0.0.1-1245] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763457503482_127.0.0.1_8333]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 19:03:01.292 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3b3c714a[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1246]
2025-11-18 19:03:01.293 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@45a7ae5b[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2011]
2025-11-18 19:03:01.293 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 19:03:01.293 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 19:03:01.294 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 19:03:01.297 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 19:03:01.297 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 19:03:01.319 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 19:03:01.322 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 19:03:01.322 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 19:03:27.719 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 19:03:27.845 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 19:03:28.692 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 19:03:28.713 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 19:03:28.714 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 19:03:30.172 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 19:03:30.178 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 19:03:30.218 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-18 19:03:30.660 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 19:03:30.716 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:30.718 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:30.720 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.231 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.363 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.369 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.376 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.377 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$709/0x000001e3814f5568] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.380 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.391 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.394 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 19:03:31.918 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 19:03:31.947 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 19:03:31.948 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 19:03:32.133 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 19:03:32.133 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3389 ms
2025-11-18 19:03:33.915 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 19:03:33.916 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 19:03:34.056 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 19:03:34.666 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 19:03:35.803 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 19:03:35.898 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 19:03:35.936 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 19:03:35.977 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 19:03:36.166 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 19:03:36.167 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 19:03:36.286 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 19:03:36.286 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 19:03:38.028 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 19:03:38.044 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 19:03:38.044 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 19:03:38.045 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 19:03:38.046 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 19:03:38.104 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 19:03:38.104 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 19:03:38.106 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 19:03:38.117 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 19:03:38.118 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 19:03:38.124 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 19:03:38.144 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of cdf2729c-3bd7-44d2-9ddc-b339dffa3445
2025-11-18 19:03:38.189 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 19:03:38.189 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 19:03:38.191 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 19:03:38.196 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 19:03:38.266 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 19:03:40.008 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763463819704_127.0.0.1_16081
2025-11-18 19:03:40.009 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Notify connected event to listeners.
2025-11-18 19:03:40.009 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 19:03:40.010 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 19:03:40.010 [main] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1267/0x000001e3819c4810
2025-11-18 19:03:40.012 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 19:03:40.036 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 19:03:40.298 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 13.673 seconds (process running for 15.078)
2025-11-18 19:12:16.562 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 19:12:16.562 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 19:12:16.564 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 19:12:16.578 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 19:12:16.773 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"点赞计数测试 MQ1","content":"点赞计数测试 MQ1","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 19:12:16.786 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 19:12:16.911 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 19:12:16.932 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-11-18 19:12:16.948 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-11-18 19:12:17.201 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 19:12:17.221 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 19:12:17.226 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-11-18 19:12:17.227 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-11-18 19:12:17.532 [nacos-grpc-client-executor-127.0.0.1-126] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Receive server push request, request = NotifySubscriberRequest, requestId = 88
2025-11-18 19:12:17.533 [nacos-grpc-client-executor-127.0.0.1-126] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Ack server push request, request = NotifySubscriberRequest, requestId = 88
2025-11-18 19:12:17.819 [nacos-grpc-client-executor-127.0.0.1-127] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Receive server push request, request = NotifySubscriberRequest, requestId = 89
2025-11-18 19:12:17.819 [nacos-grpc-client-executor-127.0.0.1-127] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Ack server push request, request = NotifySubscriberRequest, requestId = 89
2025-11-18 19:12:18.170 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1400ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 19:12:18.192 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 19:12:23.468 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 19:12:23.471 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"点赞计数测试 MQ2","content":"点赞计数测试 MQ2","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 19:12:23.471 [http-nio-8086-exec-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 19:12:23.484 [http-nio-8086-exec-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 19:12:23.515 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 44ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 19:12:23.517 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 19:12:48.821 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 19:12:48.827 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990739833596678169}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 19:12:49.308 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 19:12:49.308 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 19:12:49.333 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 19:12:49.341 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-11-18 19:12:49.342 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-11-18 19:12:49.377 [http-nio-8086-exec-6] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: 0
2025-11-18 19:12:49.403 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记点赞], 耗时: 577ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 19:12:49.405 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 19:12:49.460 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [点赞笔记] MQ发送成功，SendResult：SendResult [sendStatus=SEND_OK, msgId=7F000001C1BC63947C6B5BAB8D150000, offsetMsgId=7F00000100002A9F000000000189DA90, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=broker-a, queueId=3], queueOffset=3]
2025-11-18 19:12:49.470 [ConsumeMessageThread_greennote_group_LikeUnlikeTopic_1] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":3,"noteId":1990739833596678169,"type":1,"createTime":"2025-11-18 19:12:49"}, tags: Like
2025-11-18 19:12:49.560 [NettyClientPublicExecutor_2] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> [计数：笔记点赞] MQ发送成功, SendResult:SendResult [sendStatus=SEND_OK, msgId=7F000001C1BC63947C6B5BAB8D760001, offsetMsgId=7F00000100002A9F000000000189DC30, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=broker-a, queueId=0], queueOffset=0]
2025-11-18 19:12:49.894 [nacos-grpc-client-executor-127.0.0.1-135] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Receive server push request, request = NotifySubscriberRequest, requestId = 90
2025-11-18 19:12:49.894 [nacos-grpc-client-executor-127.0.0.1-135] INFO  com.alibaba.nacos.common.remote.client - [cdf2729c-3bd7-44d2-9ddc-b339dffa3445] Ack server push request, request = NotifySubscriberRequest, requestId = 90
2025-11-18 19:13:08.918 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 19:13:08.924 [http-nio-8086-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990739833596678169}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 19:13:08.942 [http-nio-8086-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 18ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 19:13:08.943 [http-nio-8086-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 19:13:08.954 [NettyClientPublicExecutor_3] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [取消点赞] MQ发送成功，SendResult：SendResult [sendStatus=SEND_OK, msgId=7F000001C1BC63947C6B5BABD94E0002, offsetMsgId=7F00000100002A9F000000000189DDC9, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=broker-a, queueId=3], queueOffset=4]
2025-11-18 19:13:08.957 [ConsumeMessageThread_greennote_group_LikeUnlikeTopic_2] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":3,"noteId":1990739833596678169,"type":0,"createTime":"2025-11-18 19:13:08"}, tags: Unlike
2025-11-18 19:13:08.995 [NettyClientPublicExecutor_4] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> [计数：笔记取消点赞] MQ发送成功, SendResult:SendResult [sendStatus=SEND_OK, msgId=7F000001C1BC63947C6B5BABD97B0003, offsetMsgId=7F00000100002A9F000000000189DF6B, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=broker-a, queueId=1], queueOffset=0]
2025-11-18 19:13:12.409 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 19:13:12.410 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消点赞], 入参: {"id":1990739833596678169}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unlikeNote =======
2025-11-18 19:13:12.420 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消点赞], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 19:13:12.422 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 19:13:12.426 [NettyClientPublicExecutor_5] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [取消点赞] MQ发送成功，SendResult：SendResult [sendStatus=SEND_OK, msgId=7F000001C1BC63947C6B5BABE6E40004, offsetMsgId=7F00000100002A9F000000000189E104, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=broker-a, queueId=3], queueOffset=5]
2025-11-18 19:13:12.428 [ConsumeMessageThread_greennote_group_LikeUnlikeTopic_3] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":3,"noteId":1990739833596678169,"type":0,"createTime":"2025-11-18 19:13:12"}, tags: Unlike
2025-11-18 21:37:47.236 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 21:37:47.236 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 21:37:47.272 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 21:37:47.291 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 21:37:47.664 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 21:37:47.666 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 21:37:47.676 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 21:37:47.676 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 21:37:47.676 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 21:37:47.677 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 21:37:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@173f7a65[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 21:37:47.679 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763463819704_127.0.0.1_16081
2025-11-18 21:37:47.687 [nacos-grpc-client-executor-127.0.0.1-1775] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763463819704_127.0.0.1_16081]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 21:37:47.698 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7555f686[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1776]
2025-11-18 21:37:47.699 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4032a7f3[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2892]
2025-11-18 21:37:47.699 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 21:37:47.699 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 21:37:47.699 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 21:37:47.705 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:37:47.705 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:37:47.728 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 21:37:47.732 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 21:37:47.732 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:38:25.272 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:38:25.446 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:38:26.712 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:38:26.739 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:38:26.741 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 21:38:27.961 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 21:38:27.965 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 21:38:28.003 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-11-18 21:38:28.441 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 21:38:28.514 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:28.518 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:28.521 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.004 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.114 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.120 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.127 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.128 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000001ff1151dc38] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.131 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.151 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.152 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:38:29.599 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 21:38:29.618 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 21:38:29.619 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 21:38:29.795 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 21:38:29.795 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3006 ms
2025-11-18 21:38:31.127 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:38:31.128 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 21:38:31.205 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 21:38:31.773 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 21:38:32.332 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 21:38:32.404 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 21:38:32.435 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 21:38:32.476 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 21:38:32.653 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:38:32.653 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 21:38:32.749 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:38:32.750 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 21:38:34.170 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 21:38:34.181 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:38:34.181 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 21:38:34.182 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 21:38:34.183 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 21:38:34.221 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 21:38:34.221 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 21:38:34.223 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 21:38:34.229 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 21:38:34.230 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 21:38:34.235 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 21:38:34.251 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e880a103-16df-44eb-bafc-958319a20eb3
2025-11-18 21:38:34.290 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 21:38:34.290 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 21:38:34.291 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 21:38:34.296 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 21:38:34.348 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 21:38:35.786 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763473115514_127.0.0.1_54389
2025-11-18 21:38:35.787 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Notify connected event to listeners.
2025-11-18 21:38:35.787 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 21:38:35.787 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 21:38:35.788 [main] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x000001ff119dbe98
2025-11-18 21:38:35.790 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 21:38:35.816 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 21:38:36.024 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 12.136 seconds (process running for 13.153)
2025-11-18 21:38:43.684 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 21:38:43.684 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 21:38:43.686 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 21:38:43.701 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 21:38:43.895 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"点赞计数测试 A1","content":"点赞计数测试 A1","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-18 21:38:43.911 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 21:38:44.042 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-18 21:38:44.066 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 21:38:44.083 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.8.115.255","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 21:38:44.363 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 21:38:44.386 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-18 21:38:44.395 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 21:38:44.395 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"10.8.115.255","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 21:38:44.644 [nacos-grpc-client-executor-127.0.0.1-14] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Receive server push request, request = NotifySubscriberRequest, requestId = 92
2025-11-18 21:38:44.645 [nacos-grpc-client-executor-127.0.0.1-14] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Ack server push request, request = NotifySubscriberRequest, requestId = 92
2025-11-18 21:38:44.926 [nacos-grpc-client-executor-127.0.0.1-15] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Receive server push request, request = NotifySubscriberRequest, requestId = 93
2025-11-18 21:38:44.927 [nacos-grpc-client-executor-127.0.0.1-15] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Ack server push request, request = NotifySubscriberRequest, requestId = 93
2025-11-18 21:38:45.465 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1576ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 21:38:45.487 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 21:40:37.041 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 21:40:37.048 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990776689612820538}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 21:40:37.549 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 21:40:37.549 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-18 21:40:37.573 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-18 21:40:37.579 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 21:40:37.580 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"10.8.115.255","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-18 21:40:37.624 [http-nio-8086-exec-3] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: 0
2025-11-18 21:40:37.660 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记点赞], 耗时: 613ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 21:40:37.664 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 21:40:37.718 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [点赞笔记] MQ发送成功，SendResult：SendResult [sendStatus=SEND_OK, msgId=7F0000019B1463947C6B5C32DEB90000, offsetMsgId=7F00000100002A9F000000000189E2A6, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=broker-a, queueId=3], queueOffset=6]
2025-11-18 21:40:37.725 [ConsumeMessageThread_greennote_group_LikeUnlikeTopic_1] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":3,"noteId":1990776689612820538,"type":1,"createTime":"2025-11-18 21:40:37"}, tags: Like
2025-11-18 21:40:37.799 [NettyClientPublicExecutor_2] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> [计数：笔记点赞] MQ发送成功, SendResult:SendResult [sendStatus=SEND_OK, msgId=7F0000019B1463947C6B5C32DF1F0001, offsetMsgId=7F00000100002A9F000000000189E446, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=broker-a, queueId=2], queueOffset=0]
2025-11-18 21:40:38.145 [nacos-grpc-client-executor-127.0.0.1-41] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Receive server push request, request = NotifySubscriberRequest, requestId = 94
2025-11-18 21:40:38.146 [nacos-grpc-client-executor-127.0.0.1-41] INFO  com.alibaba.nacos.common.remote.client - [e880a103-16df-44eb-bafc-958319a20eb3] Ack server push request, request = NotifySubscriberRequest, requestId = 94
2025-11-18 21:42:16.426 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-18 21:42:16.429 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1824370663356366868}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 21:42:16.441 [http-nio-8086-exec-5] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20002, errorMessage: 笔记不存在
2025-11-18 21:42:16.443 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-18 21:42:19.267 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-18 21:42:19.269 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1824370663356366868}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 21:42:19.275 [http-nio-8086-exec-4] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20002, errorMessage: 笔记不存在
2025-11-18 21:42:19.276 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-18 21:42:31.121 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-18 21:42:31.123 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990776689612820538}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 21:42:31.138 [http-nio-8086-exec-7] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: -1
2025-11-18 21:42:31.138 [http-nio-8086-exec-7] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script execution failed or returned invalid result: -1
2025-11-18 21:42:31.139 [http-nio-8086-exec-7] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20009, errorMessage: 点赞失败
2025-11-18 21:42:31.141 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-18 21:42:36.220 [http-nio-8086-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-18 21:42:36.222 [http-nio-8086-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990776689612820538}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 21:42:36.227 [http-nio-8086-exec-9] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: -1
2025-11-18 21:42:36.228 [http-nio-8086-exec-9] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script execution failed or returned invalid result: -1
2025-11-18 21:42:36.228 [http-nio-8086-exec-9] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20009, errorMessage: 点赞失败
2025-11-18 21:42:36.230 [http-nio-8086-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-18 21:43:09.020 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 21:43:09.021 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 21:43:09.020 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 21:43:09.022 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 21:43:09.189 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 21:43:09.189 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 21:43:09.193 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 21:43:09.194 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 21:43:09.195 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 21:43:09.196 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@16a698f9[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 21:43:09.196 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763473115514_127.0.0.1_54389
2025-11-18 21:43:09.197 [nacos-grpc-client-executor-127.0.0.1-74] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763473115514_127.0.0.1_54389]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 21:43:09.203 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3faf5b9a[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 75]
2025-11-18 21:43:09.204 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@69d796d0[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 91]
2025-11-18 21:43:09.204 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 21:43:09.204 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 21:43:09.204 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 21:43:09.204 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:43:09.205 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:43:09.218 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 21:43:09.245 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 21:43:09.246 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:43:16.879 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:43:16.988 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:43:17.778 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:43:17.800 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:43:17.801 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 21:43:18.930 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 21:43:18.936 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 21:43:18.978 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-18 21:43:19.439 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 21:43:19.507 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:19.510 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:19.512 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:19.983 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.098 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.101 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.105 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.107 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x0000016f6451d0a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.110 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.121 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.122 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 21:43:20.593 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 21:43:20.612 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 21:43:20.612 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 21:43:20.839 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 21:43:20.839 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3005 ms
2025-11-18 21:43:22.243 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:43:22.243 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 21:43:22.334 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 21:43:22.888 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 21:43:23.480 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 21:43:23.559 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 21:43:23.586 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 21:43:23.623 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 21:43:23.793 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:43:23.793 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 21:43:23.908 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 21:43:23.909 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 21:43:25.637 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 21:43:25.647 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 21:43:25.649 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 21:43:25.650 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 21:43:25.651 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 21:43:25.696 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 21:43:25.696 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 21:43:25.699 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 21:43:25.706 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 21:43:25.706 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 21:43:25.712 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 21:43:25.733 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 4492f388-4909-4d1f-8460-2f6f82cf06b9
2025-11-18 21:43:25.775 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 21:43:25.775 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 21:43:25.776 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 21:43:25.780 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 21:43:25.843 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 21:43:27.560 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763473407284_127.0.0.1_4828
2025-11-18 21:43:27.561 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Notify connected event to listeners.
2025-11-18 21:43:27.561 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 21:43:27.562 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 21:43:27.562 [main] INFO  com.alibaba.nacos.common.remote.client - [4492f388-4909-4d1f-8460-2f6f82cf06b9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x0000016f649db520
2025-11-18 21:43:27.564 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 21:43:27.590 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 21:43:27.857 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 12.23 seconds (process running for 13.218)
2025-11-18 21:49:47.092 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 21:49:47.092 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 21:49:47.095 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 21:49:47.120 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-18 21:49:47.364 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990776689612820538}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 21:49:47.945 [http-nio-8086-exec-1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: -1
2025-11-18 21:49:47.945 [http-nio-8086-exec-1] ERROR c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script execution failed or returned invalid result: -1
2025-11-18 21:49:47.951 [http-nio-8086-exec-1] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20009, errorMessage: 点赞失败
2025-11-18 21:49:47.972 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-18 22:06:10.864 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 22:06:10.864 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 22:06:10.864 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 22:06:10.865 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 22:06:11.047 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 22:06:11.047 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 22:06:11.050 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 22:06:11.051 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 22:06:11.052 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4c83fe3c[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 22:06:11.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763473407284_127.0.0.1_4828
2025-11-18 22:06:11.063 [nacos-grpc-client-executor-127.0.0.1-297] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763473407284_127.0.0.1_4828]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 22:06:11.072 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@36b59579[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 298]
2025-11-18 22:06:11.073 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@7516252a[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 454]
2025-11-18 22:06:11.073 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 22:06:11.073 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 22:06:11.074 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 22:06:11.076 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:06:11.076 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:06:11.294 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 22:06:11.296 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 22:06:11.296 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:06:52.219 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 22:06:52.326 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 22:06:53.038 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 22:06:53.060 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 22:06:53.061 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-18 22:06:54.147 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-18 22:06:54.151 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-18 22:06:54.186 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-18 22:06:54.599 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=23ebf94f-30ec-3c2a-889b-d541afcbceb4
2025-11-18 22:06:54.670 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:54.672 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:54.675 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.086 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.198 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.201 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.208 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.209 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000002498151d348] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.214 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.223 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.224 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-18 22:06:55.671 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-18 22:06:55.693 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 22:06:55.693 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-18 22:06:55.875 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-18 22:06:55.875 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2781 ms
2025-11-18 22:06:57.181 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:06:57.181 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-18 22:06:57.268 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-18 22:06:57.779 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-18 22:06:58.418 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 22:06:58.489 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 22:06:58.529 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-18 22:06:58.574 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-18 22:06:58.737 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:06:58.737 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-18 22:06:58.828 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:06:58.828 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-18 22:07:00.242 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-18 22:07:00.258 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-18 22:07:00.259 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-18 22:07:00.260 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-18 22:07:00.261 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-18 22:07:00.302 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-18 22:07:00.303 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-18 22:07:00.304 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-18 22:07:00.314 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-18 22:07:00.315 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-18 22:07:00.321 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-18 22:07:00.338 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 9f2ef703-9cc0-42a0-9e3f-4751d547d53e
2025-11-18 22:07:00.372 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-18 22:07:00.372 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-18 22:07:00.373 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-18 22:07:00.378 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-18 22:07:00.424 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-18 22:07:01.861 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763474821583_127.0.0.1_2507
2025-11-18 22:07:01.862 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Notify connected event to listeners.
2025-11-18 22:07:01.862 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-18 22:07:01.862 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-18 22:07:01.864 [main] INFO  com.alibaba.nacos.common.remote.client - [9f2ef703-9cc0-42a0-9e3f-4751d547d53e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000249819dc810
2025-11-18 22:07:01.866 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-18 22:07:01.892 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 10.8.115.255:8086 register finished
2025-11-18 22:07:02.093 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 11.131 seconds (process running for 12.186)
2025-11-18 22:07:26.976 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 22:07:26.976 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 22:07:26.978 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-18 22:07:26.993 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-18 22:07:27.170 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记点赞], 入参: {"id":1990776689612820538}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: likeNote =======
2025-11-18 22:07:27.698 [http-nio-8086-exec-1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - Lua script executed, result: -1
2025-11-18 22:07:28.154 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记点赞], 耗时: 985ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-18 22:07:28.187 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-18 22:07:28.218 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [点赞笔记] MQ发送成功，SendResult：SendResult [sendStatus=SEND_OK, msgId=7F000001D4C863947C6B5C4B71C50000, offsetMsgId=7F00000100002A9F000000000189E73F, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=broker-a, queueId=1], queueOffset=0]
2025-11-18 22:07:28.236 [ConsumeMessageThread_greennote_group_LikeUnlikeTopic_1] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":100,"noteId":1990776689612820538,"type":1,"createTime":"2025-11-18 22:07:28"}, tags: Like
2025-11-18 22:07:28.497 [NettyClientPublicExecutor_2] INFO  c.e.g.note.biz.consumer.LikeUnlikeNoteConsumer - ==> [计数：笔记点赞] MQ发送成功, SendResult:SendResult [sendStatus=SEND_OK, msgId=7F000001D4C863947C6B5C4B72E80001, offsetMsgId=7F00000100002A9F000000000189E8E1, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=broker-a, queueId=3], queueOffset=0]
2025-11-18 22:40:46.060 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-18 22:40:46.061 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-18 22:40:46.062 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-18 22:40:46.063 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-18 22:40:46.242 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-18 22:40:46.242 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-18 22:40:46.244 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-18 22:40:46.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-18 22:40:46.247 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2ddaa7db[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-18 22:40:46.247 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763474821583_127.0.0.1_2507
2025-11-18 22:40:46.248 [nacos-grpc-client-executor-127.0.0.1-431] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763474821583_127.0.0.1_2507]Ignore complete event,isRunning:false,isAbandon=false
2025-11-18 22:40:46.252 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4913a199[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 432]
2025-11-18 22:40:46.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@378d4aa5[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 674]
2025-11-18 22:40:46.254 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-18 22:40:46.254 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-18 22:40:46.254 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-18 22:40:46.255 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:40:46.255 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-18 22:40:46.271 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-18 22:40:46.273 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-18 22:40:46.287 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
