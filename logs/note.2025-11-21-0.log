2025-11-21 01:01:43.468 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-21 01:01:43.469 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-21 01:01:43.489 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-21 01:01:43.496 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-21 01:01:44.016 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-21 01:01:44.019 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='10.8.115.255', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-21 01:01:44.047 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-21 01:01:44.049 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-21 01:01:44.049 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-21 01:01:44.050 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-21 01:01:44.051 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-21 01:01:44.052 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7138f4ce[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-21 01:01:44.052 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763619418626_127.0.0.1_8968
2025-11-21 01:01:44.056 [nacos-grpc-client-executor-127.0.0.1-1400] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763619418626_127.0.0.1_8968]Ignore complete event,isRunning:false,isAbandon=false
2025-11-21 01:01:44.074 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@727b2380[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1401]
2025-11-21 01:01:44.074 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6b1368ae[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2283]
2025-11-21 01:01:44.075 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-21 01:01:44.075 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-21 01:01:44.076 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-21 01:01:44.086 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:01:44.086 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:01:44.124 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-21 01:01:44.130 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-21 01:01:44.130 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:02:21.353 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:02:21.481 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:02:22.439 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:02:22.466 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:02:22.467 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-21 01:02:23.691 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21 01:02:23.697 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-21 01:02:23.741 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-21 01:02:24.254 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=2ee39120-385c-3de9-bb47-a49bd4259461
2025-11-21 01:02:24.315 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.317 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.319 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.777 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.919 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.924 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.936 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.938 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000002140151aea0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.942 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.959 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:24.961 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:02:25.465 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-21 01:02:25.489 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 01:02:25.490 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-21 01:02:25.713 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-21 01:02:25.714 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3207 ms
2025-11-21 01:02:26.665 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:02:26.665 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:collectUnCollectNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-21 01:02:27.365 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:02:27.365 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-21 01:02:27.477 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-21 01:02:28.325 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-21 01:02:29.096 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 01:02:29.173 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 01:02:29.207 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 01:02:29.251 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-21 01:02:29.410 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:02:29.411 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-21 01:02:29.500 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:02:29.500 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
2025-11-21 01:02:31.123 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-21 01:02:31.139 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:02:31.139 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-21 01:02:31.141 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-21 01:02:31.142 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-21 01:02:31.196 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-21 01:02:31.197 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-21 01:02:31.199 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-21 01:02:31.207 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-21 01:02:31.207 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-21 01:02:31.212 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-21 01:02:31.229 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3eee39bf-25d2-43f4-a792-83caafc8a4fc
2025-11-21 01:02:31.284 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-21 01:02:31.284 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-21 01:02:31.286 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-21 01:02:31.291 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-21 01:02:31.388 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-21 01:02:33.083 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763658152804_127.0.0.1_20412
2025-11-21 01:02:33.084 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Notify connected event to listeners.
2025-11-21 01:02:33.084 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-21 01:02:33.085 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-21 01:02:33.085 [main] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000214019db520
2025-11-21 01:02:33.087 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-21 01:02:33.110 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 192.168.0.227:8086 register finished
2025-11-21 01:02:33.361 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 13.408 seconds (process running for 14.329)
2025-11-21 01:02:36.223 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 01:02:36.223 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 01:02:36.226 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-21 01:02:36.245 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 01:02:36.440 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"收藏测试 MQ 1","content":"收藏测试 MQ 1","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-21 01:02:36.450 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:02:36.560 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-21 01:02:36.587 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"192.168.0.227","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:02:36.608 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"192.168.0.227","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:02:36.888 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:02:36.940 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-21 01:02:36.946 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"192.168.0.227","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:02:36.949 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"192.168.0.227","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:02:37.182 [nacos-grpc-client-executor-127.0.0.1-14] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Receive server push request, request = NotifySubscriberRequest, requestId = 120
2025-11-21 01:02:37.183 [nacos-grpc-client-executor-127.0.0.1-14] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Ack server push request, request = NotifySubscriberRequest, requestId = 120
2025-11-21 01:02:37.453 [nacos-grpc-client-executor-127.0.0.1-15] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Receive server push request, request = NotifySubscriberRequest, requestId = 121
2025-11-21 01:02:37.453 [nacos-grpc-client-executor-127.0.0.1-15] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Ack server push request, request = NotifySubscriberRequest, requestId = 121
2025-11-21 01:02:38.170 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1732ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 01:02:38.188 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 01:03:07.966 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 01:03:07.973 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991552772251590692}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 01:03:08.531 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:03:08.531 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:03:08.552 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-21 01:03:08.559 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"192.168.0.227","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:03:08.559 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"192.168.0.227","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:03:08.631 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记收藏], 耗时: 659ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 01:03:08.633 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 01:03:08.754 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [收藏笔记] MQ发送成功，sendResult：SendResult [sendStatus=SEND_OK, msgId=7F00000130AC63947C6B6738FF790000, offsetMsgId=7F00000100002A9F000000000189EBDC, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=0]
2025-11-21 01:03:09.092 [nacos-grpc-client-executor-127.0.0.1-25] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Receive server push request, request = NotifySubscriberRequest, requestId = 122
2025-11-21 01:03:09.094 [nacos-grpc-client-executor-127.0.0.1-25] INFO  com.alibaba.nacos.common.remote.client - [3eee39bf-25d2-43f4-a792-83caafc8a4fc] Ack server push request, request = NotifySubscriberRequest, requestId = 122
2025-11-21 01:03:11.644 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 01:03:11.647 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991552772251590692}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 01:03:11.671 [http-nio-8086-exec-3] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/collect request fail, errorCode: NOTE-20011, errorMessage: 您已经收藏过该笔记
2025-11-21 01:03:11.672 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 01:03:47.687 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_1] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991552772251590692,"createTime":"2025-11-21 01:03:08","type":1}, tags: Collect
2025-11-21 01:13:32.139 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-21 01:13:32.139 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-21 01:13:32.144 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-21 01:13:32.145 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-21 01:13:32.372 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-21 01:13:32.373 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-21 01:13:32.378 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-21 01:13:32.379 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@66ab5123[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-21 01:13:32.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763658152804_127.0.0.1_20412
2025-11-21 01:13:32.385 [nacos-grpc-client-executor-127.0.0.1-155] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763658152804_127.0.0.1_20412]Ignore complete event,isRunning:false,isAbandon=false
2025-11-21 01:13:32.390 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@29798631[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 156]
2025-11-21 01:13:32.391 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@f066f88[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 220]
2025-11-21 01:13:32.391 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-21 01:13:32.391 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-21 01:13:32.391 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-21 01:13:32.394 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:32.394 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:32.407 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-21 01:13:32.418 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-21 01:13:32.419 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:32.554 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:42.459 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:13:42.568 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:13:43.486 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:13:43.509 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:13:43.511 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-21 01:13:44.756 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21 01:13:44.760 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-21 01:13:44.802 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-11-21 01:13:45.273 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=2ee39120-385c-3de9-bb47-a49bd4259461
2025-11-21 01:13:45.341 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.345 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.348 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.808 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.928 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.934 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.945 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.947 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000002af5951be78] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.950 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.963 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:45.965 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 01:13:46.458 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-21 01:13:46.476 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 01:13:46.477 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-21 01:13:46.709 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-21 01:13:46.711 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3169 ms
2025-11-21 01:13:46.889 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-21 01:13:47.433 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-21 01:13:47.906 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-21 01:13:48.644 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:48.644 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:collectUnCollectNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-21 01:13:49.218 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:49.218 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-21 01:13:49.510 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 01:13:49.612 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 01:13:49.661 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 01:13:49.804 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:49.804 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-21 01:13:49.913 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 01:13:49.913 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
2025-11-21 01:13:51.596 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-21 01:13:51.611 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 01:13:51.611 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-21 01:13:51.611 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-21 01:13:51.613 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-21 01:13:51.665 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-21 01:13:51.665 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-21 01:13:51.667 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-21 01:13:51.677 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-21 01:13:51.677 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-21 01:13:51.684 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-21 01:13:51.703 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f82ce1fa-6e8b-4057-b0e6-8e369608163d
2025-11-21 01:13:51.744 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-21 01:13:51.744 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-21 01:13:51.745 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-21 01:13:51.750 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-21 01:13:51.817 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-21 01:13:53.556 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763658833256_127.0.0.1_20662
2025-11-21 01:13:53.557 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Notify connected event to listeners.
2025-11-21 01:13:53.557 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-21 01:13:53.558 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-21 01:13:53.558 [main] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x000002af599af7d8
2025-11-21 01:13:53.560 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-21 01:13:53.585 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 192.168.0.227:8086 register finished
2025-11-21 01:13:53.881 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 12.524 seconds (process running for 13.406)
2025-11-21 01:14:46.173 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 01:14:46.173 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 01:14:46.174 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-21 01:14:46.188 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 01:14:46.367 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"收藏测试 MQ 2","content":"收藏测试 MQ 2","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-21 01:14:46.383 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:14:46.516 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-21 01:14:46.536 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"192.168.0.227","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:14:46.551 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"192.168.0.227","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:14:46.805 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:14:46.833 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-21 01:14:46.839 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"192.168.0.227","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:14:46.840 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"192.168.0.227","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:14:47.114 [nacos-grpc-client-executor-127.0.0.1-21] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Receive server push request, request = NotifySubscriberRequest, requestId = 124
2025-11-21 01:14:47.115 [nacos-grpc-client-executor-127.0.0.1-21] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Ack server push request, request = NotifySubscriberRequest, requestId = 124
2025-11-21 01:14:47.393 [nacos-grpc-client-executor-127.0.0.1-22] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Receive server push request, request = NotifySubscriberRequest, requestId = 125
2025-11-21 01:14:47.394 [nacos-grpc-client-executor-127.0.0.1-22] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Ack server push request, request = NotifySubscriberRequest, requestId = 125
2025-11-21 01:14:47.915 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1551ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 01:14:47.936 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 01:15:23.013 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 01:15:23.022 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991555833787326552}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 01:15:23.532 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:15:23.532 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 01:15:23.560 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-21 01:15:23.565 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"192.168.0.227","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:15:23.565 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"192.168.0.227","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 01:15:23.634 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记收藏], 耗时: 612ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 01:15:23.636 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 01:15:23.684 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [收藏笔记] MQ发送成功，sendResult：SendResult [sendStatus=SEND_OK, msgId=7F00000117D463947C6B6744368C0000, offsetMsgId=7F00000100002A9F000000000189ED85, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=1]
2025-11-21 01:15:23.691 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_1] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991555833787326552,"createTime":"2025-11-21 01:15:23","type":1}, tags: Collect
2025-11-21 01:15:23.731 [NettyClientPublicExecutor_2] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> [计数：笔记点赞] MQ发送成功, SendResult:SendResult [sendStatus=SEND_OK, msgId=7F00000117D463947C6B674436C60001, offsetMsgId=7F00000100002A9F000000000189EF2E, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=broker-a, queueId=0], queueOffset=1]
2025-11-21 01:15:24.090 [nacos-grpc-client-executor-127.0.0.1-31] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Receive server push request, request = NotifySubscriberRequest, requestId = 126
2025-11-21 01:15:24.091 [nacos-grpc-client-executor-127.0.0.1-31] INFO  com.alibaba.nacos.common.remote.client - [f82ce1fa-6e8b-4057-b0e6-8e369608163d] Ack server push request, request = NotifySubscriberRequest, requestId = 126
2025-11-21 01:15:25.298 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 01:15:25.300 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991555833787326552}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 01:15:25.322 [http-nio-8086-exec-4] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/collect request fail, errorCode: NOTE-20011, errorMessage: 您已经收藏过该笔记
2025-11-21 01:15:25.324 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:01:47.326 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:01:47.332 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:43:04.526 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-21 02:43:04.530 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-21 02:43:04.532 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-21 02:43:04.537 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-21 02:43:04.647 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:43:04.647 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:43:04.672 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:43:04.711 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:43:04.712 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:43:04.756 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:43:04.758 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:43:04.773 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:43:04.895 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-21 02:43:04.896 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-21 02:43:04.903 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-21 02:43:04.904 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-21 02:43:04.904 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-21 02:43:04.905 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3dcc2721[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-21 02:43:04.906 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763658833256_127.0.0.1_20662
2025-11-21 02:43:04.908 [nacos-grpc-client-executor-127.0.0.1-1089] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763658833256_127.0.0.1_20662]Ignore complete event,isRunning:false,isAbandon=false
2025-11-21 02:43:04.919 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@69ec8bf5[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1090]
2025-11-21 02:43:04.919 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6fcfd6d5[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1777]
2025-11-21 02:43:04.920 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-21 02:43:04.920 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-21 02:43:04.920 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-21 02:43:04.924 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:04.924 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:04.935 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:05.092 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:05.102 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:43:05.103 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:43:05.104 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-21 02:43:05.107 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-21 02:43:24.792 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:43:24.902 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:43:25.783 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:43:25.803 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:43:25.804 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-21 02:43:27.043 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21 02:43:27.053 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-21 02:43:27.106 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-21 02:43:27.690 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=2ee39120-385c-3de9-bb47-a49bd4259461
2025-11-21 02:43:27.785 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:27.789 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:27.792 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.489 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.629 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.635 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.652 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.653 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000002500151c780] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.656 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.677 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:28.679 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:43:29.291 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-21 02:43:29.321 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 02:43:29.322 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-21 02:43:29.587 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-21 02:43:29.587 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3757 ms
2025-11-21 02:43:29.849 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-21 02:43:30.794 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-21 02:43:31.418 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-21 02:43:32.269 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:32.270 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:collectUnCollectNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-21 02:43:33.023 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:33.023 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-21 02:43:33.412 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 02:43:33.526 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 02:43:33.576 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 02:43:33.744 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:33.744 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-21 02:43:33.858 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:43:33.859 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
2025-11-21 02:43:35.719 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-21 02:43:35.734 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:43:35.734 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-21 02:43:35.735 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-21 02:43:35.737 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-21 02:43:35.791 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-21 02:43:35.791 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-21 02:43:35.794 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-21 02:43:35.803 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-21 02:43:35.803 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-21 02:43:35.808 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-21 02:43:35.829 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 9c624b71-4862-4be5-889e-235320c537bb
2025-11-21 02:43:35.874 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-21 02:43:35.875 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-21 02:43:35.876 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-21 02:43:35.881 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-21 02:43:35.953 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-21 02:43:37.812 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763664217504_127.0.0.1_47184
2025-11-21 02:43:37.813 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Notify connected event to listeners.
2025-11-21 02:43:37.814 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-21 02:43:37.814 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-21 02:43:37.815 [main] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x00000250019adf90
2025-11-21 02:43:37.817 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-21 02:43:37.848 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 192.168.0.227:8086 register finished
2025-11-21 02:43:38.111 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 14.54 seconds (process running for 15.501)
2025-11-21 02:44:02.039 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 02:44:02.039 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 02:44:02.041 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-21 02:44:02.054 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:44:02.258 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消收藏测试 1","content":"取消收藏测试 1","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-21 02:44:02.269 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:44:02.387 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-21 02:44:02.408 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"192.168.0.227","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 02:44:02.425 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"192.168.0.227","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 02:44:02.676 [http-nio-8086-exec-1] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:44:02.706 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-kv, group:DEFAULT_GROUP, clusters: 
2025-11-21 02:44:02.714 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"192.168.0.227","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 02:44:02.714 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-kv -> [{"ip":"192.168.0.227","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 02:44:02.994 [nacos-grpc-client-executor-127.0.0.1-19] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Receive server push request, request = NotifySubscriberRequest, requestId = 128
2025-11-21 02:44:02.994 [nacos-grpc-client-executor-127.0.0.1-19] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Ack server push request, request = NotifySubscriberRequest, requestId = 128
2025-11-21 02:44:03.257 [nacos-grpc-client-executor-127.0.0.1-20] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Receive server push request, request = NotifySubscriberRequest, requestId = 129
2025-11-21 02:44:03.257 [nacos-grpc-client-executor-127.0.0.1-20] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Ack server push request, request = NotifySubscriberRequest, requestId = 129
2025-11-21 02:44:03.695 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 1440ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:44:03.714 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:44:09.726 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:44:09.729 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":0,"imgUris":["http://127.0.0.1:9000/greennote/19e4a03bd04c458b909ba8d66a9b074f.png","http://127.0.0.1:9000/greennote/16e7538ecfc6497d8bdbb23813a755c9.png"],"videoUri":null,"title":"取消收藏测试 2","content":"取消收藏测试 2","topicId":2}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: publishNote =======
2025-11-21 02:44:09.729 [http-nio-8086-exec-4] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:44:09.743 [http-nio-8086-exec-4] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:44:09.782 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 54ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:44:09.783 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:44:47.198 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:44:47.206 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 02:44:47.682 [NoteExecutor-2] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:44:47.682 [NoteExecutor-3] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:44:47.708 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-user, group:DEFAULT_GROUP, clusters: 
2025-11-21 02:44:47.714 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"192.168.0.227","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 02:44:47.714 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-user -> [{"ip":"192.168.0.227","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-11-21 02:44:47.783 [http-nio-8086-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记收藏], 耗时: 577ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:44:47.785 [http-nio-8086-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:44:47.853 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [收藏笔记] MQ发送成功，sendResult：SendResult [sendStatus=SEND_OK, msgId=7F0000010B1C63947C6B679610460000, offsetMsgId=7F00000100002A9F000000000189F227, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=2]
2025-11-21 02:44:47.864 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_1] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991578297917513747,"createTime":"2025-11-21 02:44:47","type":1}, tags: Collect
2025-11-21 02:44:47.893 [NettyClientPublicExecutor_2] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> [计数：笔记点赞] MQ发送成功, SendResult:SendResult [sendStatus=SEND_OK, msgId=7F0000010B1C63947C6B6796108E0001, offsetMsgId=7F00000100002A9F000000000189F3D0, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=broker-a, queueId=3], queueOffset=1]
2025-11-21 02:44:48.217 [nacos-grpc-client-executor-127.0.0.1-30] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Receive server push request, request = NotifySubscriberRequest, requestId = 130
2025-11-21 02:44:48.217 [nacos-grpc-client-executor-127.0.0.1-30] INFO  com.alibaba.nacos.common.remote.client - [9c624b71-4862-4be5-889e-235320c537bb] Ack server push request, request = NotifySubscriberRequest, requestId = 130
2025-11-21 02:44:50.063 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:44:50.065 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 02:44:50.083 [http-nio-8086-exec-6] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/collect request fail, errorCode: NOTE-20011, errorMessage: 您已经收藏过该笔记
2025-11-21 02:44:50.085 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:44:57.584 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:44:57.590 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unCollectNote =======
2025-11-21 02:44:57.615 [http-nio-8086-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消收藏], 耗时: 24ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:44:57.616 [http-nio-8086-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:44:59.563 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:44:59.565 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unCollectNote =======
2025-11-21 02:44:59.574 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消收藏], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:44:59.575 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:45:12.052 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:45:12.054 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消收藏], 入参: {"id":1991578327789346874}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unCollectNote =======
2025-11-21 02:45:12.064 [http-nio-8086-exec-5] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/uncollect request fail, errorCode: NOTE-20012, errorMessage: 您没有收藏过该笔记,无法取消收藏
2025-11-21 02:45:12.065 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:45:12.068 [NoteExecutor-7] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:45:12.068 [NoteExecutor-6] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 3
2025-11-21 02:57:26.568 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-21 02:57:26.570 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-21 02:57:26.573 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-21 02:57:26.575 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-21 02:57:26.614 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:57:26.616 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:57:26.630 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:57:26.653 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:57:26.653 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:57:26.669 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:57:26.669 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:57:26.732 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:57:26.744 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-21 02:57:26.745 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-21 02:57:26.748 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-21 02:57:26.748 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7090f6f8[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-21 02:57:26.749 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763664217504_127.0.0.1_47184
2025-11-21 02:57:26.751 [nacos-grpc-client-executor-127.0.0.1-185] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763664217504_127.0.0.1_47184]Ignore complete event,isRunning:false,isAbandon=false
2025-11-21 02:57:26.756 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@df01610[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 186]
2025-11-21 02:57:26.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2073f7cd[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 276]
2025-11-21 02:57:26.757 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-21 02:57:26.757 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-21 02:57:26.758 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-21 02:57:26.758 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:57:26.760 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:57:26.765 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:57:26.903 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:57:26.911 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 02:57:26.911 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 02:57:26.912 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-21 02:57:26.921 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-21 02:57:58.388 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:57:58.508 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:57:59.475 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:57:59.494 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:57:59.495 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - The following 1 profile is active: "dev"
2025-11-21 02:58:00.813 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21 02:58:00.820 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-21 02:58:00.870 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-21 02:58:01.394 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=2ee39120-385c-3de9-bb47-a49bd4259461
2025-11-21 02:58:01.497 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:01.500 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:01.503 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.026 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.161 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.170 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.179 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.180 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000001409551ba00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.185 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.197 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.199 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-21 02:58:02.682 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-11-21 02:58:02.702 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 02:58:02.703 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-21 02:58:02.925 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-21 02:58:02.925 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3384 ms
2025-11-21 02:58:03.121 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-21 02:58:03.675 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-21 02:58:04.148 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (greennote_group) init on namesrv 127.0.0.1:9876
2025-11-21 02:58:04.923 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:58:04.923 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:collectUnCollectNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-21 02:58:05.616 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:58:05.616 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:delayDeleteNoteRedisCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-21 02:58:05.915 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 02:58:06.023 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-kv' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 02:58:06.057 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-user' URL not provided. Will try picking an instance via load-balancing.
2025-11-21 02:58:06.188 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:58:06.188 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-21 02:58:06.286 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 02:58:06.286 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
2025-11-21 02:58:07.836 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-11-21 02:58:07.848 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-21 02:58:07.848 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-21 02:58:07.849 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-21 02:58:07.851 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-21 02:58:07.907 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-21 02:58:07.907 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-21 02:58:07.909 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-21 02:58:07.920 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-21 02:58:07.920 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-21 02:58:07.929 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-21 02:58:07.949 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of d6f213b0-f323-4737-ab96-0887e857a40c
2025-11-21 02:58:07.986 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-21 02:58:07.987 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-21 02:58:07.987 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-21 02:58:07.992 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-21 02:58:08.056 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-21 02:58:09.560 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1763665089259_127.0.0.1_24958
2025-11-21 02:58:09.561 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Notify connected event to listeners.
2025-11-21 02:58:09.562 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-21 02:58:09.563 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-21 02:58:09.564 [main] INFO  com.alibaba.nacos.common.remote.client - [d6f213b0-f323-4737-ab96-0887e857a40c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x00000140959ae608
2025-11-21 02:58:09.568 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-note with instance Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-21 02:58:09.602 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-note 192.168.0.227:8086 register finished
2025-11-21 02:58:09.854 [main] INFO  c.e.greennote.note.biz.GreenNoteNoteBizApplication - Started GreenNoteNoteBizApplication in 12.708 seconds (process running for 13.639)
2025-11-21 02:58:17.239 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 02:58:17.239 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 02:58:17.241 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-21 02:58:17.255 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:58:17.415 [http-nio-8086-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 02:58:18.346 [http-nio-8086-exec-1] WARN  c.e.g.note.biz.exception.GlobalExceptionHandler - /note/collect request fail, errorCode: NOTE-20011, errorMessage: 您已经收藏过该笔记
2025-11-21 02:58:18.369 [http-nio-8086-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:58:25.559 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:58:25.567 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unCollectNote =======
2025-11-21 02:58:25.601 [http-nio-8086-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消收藏], 耗时: 35ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:58:25.606 [http-nio-8086-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:58:25.648 [NettyClientPublicExecutor_1] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [笔记取消收藏] MQ 发送成功，SendResult: SendResult [sendStatus=SEND_OK, msgId=7F0000016EAC63947C6B67A28ADC0000, offsetMsgId=7F00000100002A9F000000000189F6C9, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=3]
2025-11-21 02:58:25.659 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_1] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991578297917513747,"type":0,"createTime":"2025-11-21 02:58:25"}, tags: UnCollect
2025-11-21 02:59:46.409 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:59:46.411 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: collectNote =======
2025-11-21 02:59:46.437 [http-nio-8086-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记收藏], 耗时: 27ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:59:46.439 [http-nio-8086-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:59:46.445 [NettyClientPublicExecutor_2] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [收藏笔记] MQ发送成功，sendResult：SendResult [sendStatus=SEND_OK, msgId=7F0000016EAC63947C6B67A3C6860001, offsetMsgId=7F00000100002A9F000000000189F874, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=4]
2025-11-21 02:59:46.448 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_2] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991578297917513747,"type":1,"createTime":"2025-11-21 02:59:46"}, tags: Collect
2025-11-21 02:59:51.074 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 02:59:51.076 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消收藏], 入参: {"id":1991578297917513747}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unCollectNote =======
2025-11-21 02:59:51.090 [http-nio-8086-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消收藏], 耗时: 14ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 02:59:51.092 [http-nio-8086-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 02:59:51.099 [NettyClientPublicExecutor_3] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [笔记取消收藏] MQ 发送成功，SendResult: SendResult [sendStatus=SEND_OK, msgId=7F0000016EAC63947C6B67A3D8B30002, offsetMsgId=7F00000100002A9F000000000189FA1D, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=5]
2025-11-21 02:59:51.102 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_3] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991578297917513747,"type":0,"createTime":"2025-11-21 02:59:51"}, tags: UnCollect
2025-11-21 03:00:14.733 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-21 03:00:14.735 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记取消收藏], 入参: {"id":1991555833787326552}, 请求类: com.evan.greennote.note.biz.controller.NoteController, 请求方法: unCollectNote =======
2025-11-21 03:00:14.746 [http-nio-8086-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记取消收藏], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null}======
2025-11-21 03:00:14.748 [http-nio-8086-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-21 03:00:14.755 [NettyClientPublicExecutor_4] INFO  c.e.g.note.biz.service.impl.NoteServiceImpl - ==> [笔记取消收藏] MQ 发送成功，SendResult: SendResult [sendStatus=SEND_OK, msgId=7F0000016EAC63947C6B67A4351B0003, offsetMsgId=7F00000100002A9F000000000189FBC8, messageQueue=MessageQueue [topic=CollectUnCollectTopic, brokerName=broker-a, queueId=3], queueOffset=6]
2025-11-21 03:00:14.758 [ConsumeMessageThread_greennote_group_CollectUnCollectTopic_4] INFO  c.e.g.n.biz.consumer.CollectUnCollectNoteConsumer - ==> CollectUnCollectNoteConsumer 消费了消息 {"userId":3,"noteId":1991555833787326552,"type":0,"createTime":"2025-11-21 03:00:14"}, tags: UnCollect
2025-11-21 03:00:41.365 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-21 03:00:41.366 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-21 03:00:41.366 [Thread-14] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-21 03:00:41.366 [Thread-17] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-21 03:00:41.407 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 03:00:41.409 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 03:00:41.480 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 03:00:41.480 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 03:00:41.510 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 03:00:41.511 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 03:00:41.540 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 03:00:41.540 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 03:00:41.626 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-21 03:00:41.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-note with instance: Instance{instanceId='null', ip='192.168.0.227', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-21 03:00:41.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@27cb086[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-21 03:00:41.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1763665089259_127.0.0.1_24958
2025-11-21 03:00:41.636 [nacos-grpc-client-executor-127.0.0.1-45] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1763665089259_127.0.0.1_24958]Ignore complete event,isRunning:false,isAbandon=false
2025-11-21 03:00:41.638 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@263d5c6f[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 46]
2025-11-21 03:00:41.638 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@62039b07[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 51]
2025-11-21 03:00:41.638 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-21 03:00:41.638 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-21 03:00:41.638 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-21 03:00:41.641 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 03:00:41.641 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 03:00:41.646 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_groupDelayDeleteNoteRedisCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DelayDeleteNoteRedisCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 03:00:41.782 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='greennote_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-21 03:00:41.791 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-11-21 03:00:41.791 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-11-21 03:00:41.792 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-21 03:00:41.804 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
