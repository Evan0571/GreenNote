2025-11-10 11:05:54.092 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-10 11:05:54.092 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-10 11:05:54.149 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-10 11:05:54.234 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-10 11:05:55.478 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-10 11:05:55.485 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-user with instance: Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-10 11:05:55.553 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-10 11:05:55.556 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-10 11:05:55.557 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 11:05:55.559 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-10 11:05:55.560 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-10 11:05:55.561 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7e22e0be[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-10 11:05:55.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1762669492617_127.0.0.1_59006
2025-11-10 11:05:55.579 [nacos-grpc-client-executor-127.0.0.1-6570] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1762669492617_127.0.0.1_59006]Ignore complete event,isRunning:false,isAbandon=false
2025-11-10 11:05:55.606 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@50e69150[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 6571]
2025-11-10 11:05:55.608 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@76598979[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 10736]
2025-11-10 11:05:55.608 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-10 11:05:55.609 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-10 11:05:55.610 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-10 11:05:55.928 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-10 11:05:55.939 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-10 17:13:37.689 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 17:13:37.795 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 17:13:38.721 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 17:13:38.745 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 17:13:38.746 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - The following 1 profile is active: "dev"
2025-11-10 17:13:40.024 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:13:40.031 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:13:40.080 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-11-10 17:13:40.462 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=13d3b442-4405-3ffb-9e0f-d0c5635ac705
2025-11-10 17:13:40.528 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.search.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 17:13:40.531 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 17:13:40.536 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 17:13:41.435 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-11-10 17:13:41.464 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-10 17:13:41.465 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-10 17:13:41.618 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-10 17:13:41.618 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2839 ms
2025-11-10 17:13:41.892 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-10 17:13:42.377 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-10 17:13:42.930 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-oss' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 17:13:43.590 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 17:13:45.281 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-11-10 17:13:45.292 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 17:13:45.293 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-10 17:13:45.294 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-10 17:13:45.294 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-10 17:13:45.342 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-10 17:13:45.342 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-10 17:13:45.344 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-10 17:13:45.351 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-10 17:13:45.352 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-10 17:13:45.358 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-10 17:13:45.377 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bfebd4f4-503d-4901-bf0c-8a0a6e531949
2025-11-10 17:13:45.413 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-10 17:13:45.414 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-10 17:13:45.415 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-10 17:13:45.421 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-10 17:13:45.511 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-10 17:13:47.067 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1762766026785_127.0.0.1_49225
2025-11-10 17:13:47.068 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Notify connected event to listeners.
2025-11-10 17:13:47.068 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-10 17:13:47.069 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-10 17:13:47.069 [main] INFO  com.alibaba.nacos.common.remote.client - [bfebd4f4-503d-4901-bf0c-8a0a6e531949] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1264/0x0000028de49058d8
2025-11-10 17:13:47.071 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-user with instance Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-10 17:13:47.101 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-user 10.36.15.120:8082 register finished
2025-11-10 17:13:47.357 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - Started GreenNoteUserBizApplication in 10.835 seconds (process running for 11.786)
2025-11-10 17:13:47.358 [main] INFO  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到redis中...
2025-11-10 17:13:48.354 [main] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectEnableList - ==>  Preparing: select id, role_key, role_name from t_role where status=0 and is_deleted=0
2025-11-10 17:13:48.726 [main] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectEnableList - ==> Parameters: 
2025-11-10 17:13:48.789 [main] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectEnableList - <==      Total: 1
2025-11-10 17:13:48.836 [main] DEBUG c.e.g.u.b.d.m.R.selectByRoleIds - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-11-10 17:13:48.842 [main] DEBUG c.e.g.u.b.d.m.R.selectByRoleIds - ==> Parameters: 1(Long)
2025-11-10 17:13:48.869 [main] DEBUG c.e.g.u.b.d.m.R.selectByRoleIds - <==      Total: 2
2025-11-10 17:13:48.871 [main] DEBUG c.e.g.u.b.d.m.P.selectAppEnableList - ==>  Preparing: select id, name, permission_key from t_permission where status=0 and type=3 and is_deleted=0
2025-11-10 17:13:48.873 [main] DEBUG c.e.g.u.b.d.m.P.selectAppEnableList - ==> Parameters: 
2025-11-10 17:13:48.898 [main] DEBUG c.e.g.u.b.d.m.P.selectAppEnableList - <==      Total: 2
2025-11-10 17:13:48.936 [main] INFO  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-11-10 17:22:04.944 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-10 17:22:04.946 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-10 17:22:04.947 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-10 17:22:05.164 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据邮箱查询用户信息], 入参: {"email":"1337803@wku.edu.cn"}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findByEmail =======
2025-11-10 17:22:05.166 [http-nio-8082-exec-1] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==>  Preparing: select id, password from t_user where email=?
2025-11-10 17:22:05.168 [http-nio-8082-exec-1] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==> Parameters: 1337803@wku.edu.cn(String)
2025-11-10 17:22:05.172 [http-nio-8082-exec-1] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - <==      Total: 1
2025-11-10 17:22:05.177 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据邮箱查询用户信息], 耗时: 15ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"password":"$2a$10$NTrPS6LH71N.mM38w3KRuOcLRGZrXcvVTAmgj47znN2wGuuUipcFW"}}======
2025-11-10 17:23:05.165 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 17:23:05.187 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 20ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 17:23:45.301 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 17:23:45.307 [http-nio-8082-exec-5] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=3, nickName=Yifan_Song, avatar=http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg)
2025-11-10 17:23:45.308 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 7ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 18:14:02.551 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-10 18:14:02.551 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-10 18:14:02.552 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-10 18:14:02.552 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-10 18:14:02.657 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-10 18:14:02.657 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-user with instance: Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-10 18:14:02.671 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-10 18:14:02.672 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-10 18:14:02.672 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-10 18:14:02.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-10 18:14:02.674 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 18:14:02.674 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 18:14:02.674 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-10 18:14:02.674 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-10 18:14:02.674 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7dbddea4[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-10 18:14:02.674 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1762766026785_127.0.0.1_49225
2025-11-10 18:14:02.677 [nacos-grpc-client-executor-127.0.0.1-393] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1762766026785_127.0.0.1_49225]Ignore complete event,isRunning:false,isAbandon=false
2025-11-10 18:14:02.681 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@641931c4[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 394]
2025-11-10 18:14:02.681 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2c1dbf4b[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 616]
2025-11-10 18:14:02.681 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-10 18:14:02.681 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-10 18:14:02.681 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-10 18:14:02.824 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-10 18:14:02.824 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-10 18:14:38.439 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:14:38.780 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:14:39.859 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:14:39.880 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:14:39.880 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - The following 1 profile is active: "dev"
2025-11-10 18:14:40.890 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:14:40.895 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:14:40.939 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-10 18:14:41.298 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=13d3b442-4405-3ffb-9e0f-d0c5635ac705
2025-11-10 18:14:41.352 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.search.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 18:14:41.355 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 18:14:41.358 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 18:14:42.305 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-11-10 18:14:42.325 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-10 18:14:42.326 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-10 18:14:42.498 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-10 18:14:42.499 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2590 ms
2025-11-10 18:14:42.759 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-10 18:14:43.264 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-10 18:14:43.776 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-oss' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 18:14:44.332 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 18:14:45.738 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-11-10 18:14:45.748 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:14:45.748 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-10 18:14:45.750 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-10 18:14:45.751 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-10 18:14:45.789 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-10 18:14:45.789 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-10 18:14:45.790 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-10 18:14:45.798 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-10 18:14:45.799 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-10 18:14:45.804 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-10 18:14:45.818 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3eab2d01-0272-4310-9108-bdf6958b0201
2025-11-10 18:14:45.846 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-10 18:14:45.846 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-10 18:14:45.847 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-10 18:14:45.849 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-10 18:14:45.913 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-10 18:14:47.205 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1762769686941_127.0.0.1_18625
2025-11-10 18:14:47.206 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Notify connected event to listeners.
2025-11-10 18:14:47.206 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-10 18:14:47.206 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-10 18:14:47.207 [main] INFO  com.alibaba.nacos.common.remote.client - [3eab2d01-0272-4310-9108-bdf6958b0201] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1264/0x0000014d89907088
2025-11-10 18:14:47.208 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-user with instance Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-10 18:14:47.230 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-user 10.36.15.120:8082 register finished
2025-11-10 18:14:47.441 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - Started GreenNoteUserBizApplication in 10.119 seconds (process running for 11.017)
2025-11-10 18:14:47.443 [main] INFO  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到redis中...
2025-11-10 18:14:48.094 [main] WARN  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-11-10 18:19:25.582 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-10 18:19:25.585 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-10 18:19:25.587 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-10 18:19:25.606 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 18:19:25.790 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 18:19:25.849 [http-nio-8082-exec-1] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 18:19:26.143 [http-nio-8082-exec-1] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 100(Long)
2025-11-10 18:19:26.184 [http-nio-8082-exec-1] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 18:19:26.192 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 405ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 18:19:26.224 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 18:19:34.990 [http-nio-8082-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 18:19:34.992 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":-1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 18:19:34.995 [http-nio-8082-exec-2] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 18:19:34.996 [http-nio-8082-exec-2] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: -1(Long)
2025-11-10 18:19:35.000 [http-nio-8082-exec-2] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-11-10 18:19:35.013 [http-nio-8082-exec-2] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findById request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 18:19:35.020 [http-nio-8082-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 18:19:40.302 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 18:19:40.303 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":110}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 18:19:40.307 [http-nio-8082-exec-3] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 18:19:40.308 [http-nio-8082-exec-3] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 110(Long)
2025-11-10 18:19:40.310 [http-nio-8082-exec-3] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-11-10 18:19:40.311 [http-nio-8082-exec-3] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findById request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 18:19:40.312 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 18:55:45.955 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-10 18:55:45.957 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-10 18:55:45.956 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-10 18:55:45.958 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-10 18:55:46.118 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-10 18:55:46.118 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-user with instance: Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-10 18:55:46.122 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-10 18:55:46.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@cb5cc65[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-10 18:55:46.124 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1762769686941_127.0.0.1_18625
2025-11-10 18:55:46.126 [nacos-grpc-client-executor-127.0.0.1-520] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1762769686941_127.0.0.1_18625]Ignore complete event,isRunning:false,isAbandon=false
2025-11-10 18:55:46.130 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@13df6033[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 521]
2025-11-10 18:55:46.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@11f9f17e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 817]
2025-11-10 18:55:46.130 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-10 18:55:46.130 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-10 18:55:46.131 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-10 18:55:46.269 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-10 18:55:46.270 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-10 18:57:22.447 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:57:22.553 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:57:23.520 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:57:23.546 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:57:23.548 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - The following 1 profile is active: "dev"
2025-11-10 18:57:24.853 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:57:24.860 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:57:24.913 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-11-10 18:57:25.372 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=13d3b442-4405-3ffb-9e0f-d0c5635ac705
2025-11-10 18:57:25.432 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.search.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 18:57:25.436 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 18:57:25.439 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 18:57:26.615 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-11-10 18:57:26.640 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-10 18:57:26.640 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-10 18:57:26.867 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-10 18:57:26.868 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3284 ms
2025-11-10 18:57:27.189 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-10 18:57:27.893 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-10 18:57:28.554 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-oss' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 18:57:29.222 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 18:57:30.977 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-11-10 18:57:30.987 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 18:57:30.987 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-10 18:57:30.989 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-10 18:57:30.989 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-10 18:57:31.029 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-10 18:57:31.029 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-10 18:57:31.031 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-10 18:57:31.037 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-10 18:57:31.037 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-10 18:57:31.042 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-10 18:57:31.056 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 130d8381-8a90-44a9-b731-d4548e7efa9a
2025-11-10 18:57:31.090 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-10 18:57:31.090 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-10 18:57:31.091 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-10 18:57:31.095 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-10 18:57:31.190 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-10 18:57:32.898 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1762772252579_127.0.0.1_2834
2025-11-10 18:57:32.899 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Notify connected event to listeners.
2025-11-10 18:57:32.899 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-10 18:57:32.899 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-10 18:57:32.900 [main] INFO  com.alibaba.nacos.common.remote.client - [130d8381-8a90-44a9-b731-d4548e7efa9a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1264/0x000002e801903520
2025-11-10 18:57:32.902 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-user with instance Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-10 18:57:32.927 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-user 10.36.15.120:8082 register finished
2025-11-10 18:57:33.251 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - Started GreenNoteUserBizApplication in 12.047 seconds (process running for 12.896)
2025-11-10 18:57:33.253 [main] INFO  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到redis中...
2025-11-10 18:57:34.221 [main] WARN  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-11-10 20:04:41.276 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-10 20:04:41.275 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-10 20:04:41.285 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-10 20:04:41.285 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-10 20:04:41.483 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-10 20:04:41.488 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-user with instance: Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-10 20:04:41.525 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-10 20:04:41.527 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-10 20:04:41.528 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-10 20:04:41.528 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-10 20:04:41.528 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-10 20:04:41.528 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-10 20:04:41.528 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-10 20:04:41.528 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 20:04:41.529 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-10 20:04:41.530 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-10 20:04:41.530 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1cee56ad[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-10 20:04:41.530 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1762772252579_127.0.0.1_2834
2025-11-10 20:04:41.532 [nacos-grpc-client-executor-127.0.0.1-830] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1762772252579_127.0.0.1_2834]Ignore complete event,isRunning:false,isAbandon=false
2025-11-10 20:04:41.540 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@21501e81[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 831]
2025-11-10 20:04:41.540 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@406dcea3[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1339]
2025-11-10 20:04:41.541 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-10 20:04:41.541 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-10 20:04:41.542 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-10 20:04:41.705 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-10 20:04:41.706 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-10 20:04:58.568 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 20:04:58.679 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 20:04:59.754 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 20:04:59.775 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 20:04:59.776 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - The following 1 profile is active: "dev"
2025-11-10 20:05:00.872 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 20:05:00.880 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 20:05:00.922 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-10 20:05:01.325 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=13d3b442-4405-3ffb-9e0f-d0c5635ac705
2025-11-10 20:05:01.388 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.search.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 20:05:01.391 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 20:05:01.395 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 20:05:02.466 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-11-10 20:05:02.487 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-10 20:05:02.488 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-10 20:05:02.674 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-10 20:05:02.675 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2874 ms
2025-11-10 20:05:02.912 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-10 20:05:03.484 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-10 20:05:04.083 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-oss' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 20:05:04.969 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 20:05:06.864 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-11-10 20:05:06.878 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 20:05:06.878 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-10 20:05:06.879 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-10 20:05:06.880 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-10 20:05:06.925 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-10 20:05:06.925 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-10 20:05:06.926 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-10 20:05:06.936 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-10 20:05:06.936 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-10 20:05:06.942 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-10 20:05:06.959 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of fb26e041-32bb-4474-8c11-a28d7f14bc57
2025-11-10 20:05:06.994 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-10 20:05:06.994 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-10 20:05:06.996 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-10 20:05:06.999 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-10 20:05:07.072 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-10 20:05:08.593 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1762776308298_127.0.0.1_39121
2025-11-10 20:05:08.594 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Notify connected event to listeners.
2025-11-10 20:05:08.594 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-10 20:05:08.595 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-10 20:05:08.595 [main] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1264/0x0000018581906608
2025-11-10 20:05:08.597 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-user with instance Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-10 20:05:08.621 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-user 10.36.15.120:8082 register finished
2025-11-10 20:05:08.894 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - Started GreenNoteUserBizApplication in 11.396 seconds (process running for 12.219)
2025-11-10 20:05:08.896 [main] INFO  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到redis中...
2025-11-10 20:05:09.728 [main] WARN  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-11-10 20:08:35.937 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-10 20:08:35.938 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-10 20:08:35.940 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-10 20:08:35.966 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:08:36.230 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:08:36.264 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 38ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 20:08:36.309 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:10:16.089 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:10:16.092 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:10:16.097 [http-nio-8082-exec-3] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=100, nickName=小绿书12100, avatar=null)
2025-11-10 20:10:16.098 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 7ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 20:10:16.101 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:10:26.930 [http-nio-8082-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:10:26.932 [http-nio-8082-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:10:26.933 [http-nio-8082-exec-7] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=100, nickName=小绿书12100, avatar=null)
2025-11-10 20:10:26.933 [http-nio-8082-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 20:10:26.935 [http-nio-8082-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:34:23.955 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:34:23.972 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":101}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:34:24.033 [http-nio-8082-exec-9] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 20:34:24.343 [http-nio-8082-exec-9] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 101(Long)
2025-11-10 20:34:24.383 [http-nio-8082-exec-9] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 20:34:24.388 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 416ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":101,"nickName":"小绿书12101","avatar":null}}======
2025-11-10 20:34:24.397 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:34:31.002 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:34:31.003 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":101}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:34:31.007 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":101,"nickName":"小绿书12101","avatar":null}}======
2025-11-10 20:34:31.009 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:34:50.213 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:34:50.216 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:34:50.220 [http-nio-8082-exec-10] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 20:34:50.221 [http-nio-8082-exec-10] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-11-10 20:34:50.224 [http-nio-8082-exec-10] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 20:34:50.225 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 9ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":1,"nickName":"小绿书1000005","avatar":null}}======
2025-11-10 20:34:50.227 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:45:01.507 [http-nio-8082-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:45:01.509 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:45:01.513 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 20:45:01.515 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2(Long)
2025-11-10 20:45:01.518 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 20:45:01.520 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2,"nickName":"小绿书1000006","avatar":null}}======
2025-11-10 20:45:01.521 [http-nio-8082-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 20:45:39.973 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 20:45:39.975 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 20:45:39.979 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2,"nickName":"小绿书1000006","avatar":null}}======
2025-11-10 20:45:39.981 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 21:00:02.356 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 3
2025-11-10 21:00:02.357 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:00:02.358 [http-nio-8082-exec-3] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=100, nickName=小绿书12100, avatar=null)
2025-11-10 21:00:02.358 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 21:00:02.360 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 3
2025-11-10 21:01:21.690 [http-nio-8082-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:01:21.691 [http-nio-8082-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:01:21.696 [http-nio-8082-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":1,"nickName":"小绿书1000005","avatar":null}}======
2025-11-10 21:01:21.698 [http-nio-8082-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:11:29.397 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:11:29.400 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:11:29.400 [http-nio-8082-exec-4] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=2, nickName=小绿书1000006, avatar=null)
2025-11-10 21:11:29.400 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2,"nickName":"小绿书1000006","avatar":null}}======
2025-11-10 21:11:29.402 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:11:52.840 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:11:52.842 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:11:52.847 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 6ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 21:11:52.849 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:33:56.568 [http-nio-8082-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:33:56.571 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":101}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:33:56.571 [http-nio-8082-exec-5] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=101, nickName=小绿书12101, avatar=null)
2025-11-10 21:33:56.572 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":101,"nickName":"小绿书12101","avatar":null}}======
2025-11-10 21:33:56.575 [http-nio-8082-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:34:03.964 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:34:03.966 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:34:03.968 [http-nio-8082-exec-1] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=2, nickName=小绿书1000006, avatar=null)
2025-11-10 21:34:03.968 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2,"nickName":"小绿书1000006","avatar":null}}======
2025-11-10 21:34:03.969 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:35:04.587 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:35:04.589 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:35:04.589 [http-nio-8082-exec-3] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=1, nickName=小绿书1000005, avatar=null)
2025-11-10 21:35:04.589 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":1,"nickName":"小绿书1000005","avatar":null}}======
2025-11-10 21:35:04.590 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:35:10.085 [http-nio-8082-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:35:10.090 [http-nio-8082-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:35:10.091 [http-nio-8082-exec-7] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=3, nickName=Yifan_Song, avatar=http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg)
2025-11-10 21:35:10.091 [http-nio-8082-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 21:35:10.093 [http-nio-8082-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:35:16.431 [http-nio-8082-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:35:16.432 [http-nio-8082-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":102}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:35:16.458 [http-nio-8082-exec-8] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 21:35:16.464 [http-nio-8082-exec-8] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 102(Long)
2025-11-10 21:35:16.467 [http-nio-8082-exec-8] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-11-10 21:35:16.491 [http-nio-8082-exec-8] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findById request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 21:35:16.495 [http-nio-8082-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:35:20.538 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:35:20.540 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":101}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:35:20.544 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":101,"nickName":"小绿书12101","avatar":null}}======
2025-11-10 21:35:20.545 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:36:50.984 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:36:51.035 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据邮箱查询用户信息], 入参: {"email":"syf@abc.com"}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findByEmail =======
2025-11-10 21:36:51.038 [http-nio-8082-exec-10] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==>  Preparing: select id, password from t_user where email=?
2025-11-10 21:36:51.041 [http-nio-8082-exec-10] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==> Parameters: syf@abc.com(String)
2025-11-10 21:36:51.045 [http-nio-8082-exec-10] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - <==      Total: 0
2025-11-10 21:36:51.046 [http-nio-8082-exec-10] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findByEmail request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 21:36:51.048 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:36:51.081 [http-nio-8082-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:36:51.097 [http-nio-8082-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"email":"syf@abc.com"}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: register =======
2025-11-10 21:36:51.137 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==>  Preparing: select id, password from t_user where email=?
2025-11-10 21:36:51.139 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==> Parameters: syf@abc.com(String)
2025-11-10 21:36:51.141 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - <==      Total: 0
2025-11-10 21:36:51.142 [http-nio-8082-exec-6] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册，email：syf@abc.com，userDO：null
2025-11-10 21:36:51.151 [http-nio-8082-exec-6] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 100
2025-11-10 21:36:51.336 [http-nio-8082-exec-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:GreenNote-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-11-10 21:36:51.367 [http-nio-8082-exec-6] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.36.15.120","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-11-10 21:36:51.388 [http-nio-8082-exec-6] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@GreenNote-distributed-id-generator -> [{"ip":"10.36.15.120","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@GreenNote-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-11-10 21:36:51.802 [http-nio-8082-exec-6] INFO  c.e.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 100
2025-11-10 21:36:51.828 [http-nio-8082-exec-6] DEBUG c.e.g.user.biz.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-10 21:36:51.906 [nacos-grpc-client-executor-127.0.0.1-1124] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Receive server push request, request = NotifySubscriberRequest, requestId = 64
2025-11-10 21:36:51.907 [nacos-grpc-client-executor-127.0.0.1-1124] INFO  com.alibaba.nacos.common.remote.client - [fb26e041-32bb-4474-8c11-a28d7f14bc57] Ack server push request, request = NotifySubscriberRequest, requestId = 64
2025-11-10 21:36:52.011 [http-nio-8082-exec-6] DEBUG c.e.g.user.biz.domain.mapper.UserDOMapper.insert - ==> Parameters: 2100(Long), 14100(String), null, 小绿书14100(String), null, null, null, syf@abc.com(String), null, 0(Byte), null, 2025-11-10T21:36:51.822258500(LocalDateTime), 2025-11-10T21:36:51.822258500(LocalDateTime), false(Boolean)
2025-11-10 21:36:52.021 [http-nio-8082-exec-6] DEBUG c.e.g.user.biz.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-11-10 21:36:52.023 [http-nio-8082-exec-6] DEBUG c.e.g.u.biz.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-11-10 21:36:52.024 [http-nio-8082-exec-6] DEBUG c.e.g.u.biz.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 2100(Long), 1(Long), 2025-11-10T21:36:52.022152(LocalDateTime), 2025-11-10T21:36:52.022152(LocalDateTime), false(Boolean)
2025-11-10 21:36:52.026 [http-nio-8082-exec-6] DEBUG c.e.g.u.biz.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-11-10 21:36:52.027 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-11-10 21:36:52.029 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-11-10 21:36:52.032 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 21:36:52.049 [http-nio-8082-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 957ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100}======
2025-11-10 21:36:52.051 [http-nio-8082-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:37:26.976 [http-nio-8082-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:37:26.977 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:37:26.978 [http-nio-8082-exec-5] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=1, nickName=小绿书1000005, avatar=null)
2025-11-10 21:37:26.978 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":1,"nickName":"小绿书1000005","avatar":null}}======
2025-11-10 21:37:26.980 [http-nio-8082-exec-5] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:37:32.489 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-11-10 21:37:32.490 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:37:32.491 [http-nio-8082-exec-1] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=2, nickName=小绿书1000006, avatar=null)
2025-11-10 21:37:32.491 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2,"nickName":"小绿书1000006","avatar":null}}======
2025-11-10 21:37:32.491 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-11-10 21:37:36.850 [http-nio-8082-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-11-10 21:37:36.852 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:37:36.853 [http-nio-8082-exec-2] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=1, nickName=小绿书1000005, avatar=null)
2025-11-10 21:37:36.853 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":1,"nickName":"小绿书1000005","avatar":null}}======
2025-11-10 21:37:36.854 [http-nio-8082-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-11-10 21:37:41.289 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-11-10 21:37:41.291 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:37:41.291 [http-nio-8082-exec-3] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=3, nickName=Yifan_Song, avatar=http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg)
2025-11-10 21:37:41.291 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 21:37:41.293 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-11-10 21:38:02.551 [http-nio-8082-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:38:02.553 [http-nio-8082-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:38:02.553 [http-nio-8082-exec-8] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=3, nickName=Yifan_Song, avatar=http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg)
2025-11-10 21:38:02.553 [http-nio-8082-exec-8] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 21:38:02.554 [http-nio-8082-exec-8] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:38:06.415 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-11-10 21:38:06.417 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":4}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:38:06.420 [http-nio-8082-exec-9] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 21:38:06.421 [http-nio-8082-exec-9] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 4(Long)
2025-11-10 21:38:06.424 [http-nio-8082-exec-9] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-11-10 21:38:06.425 [http-nio-8082-exec-9] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findById request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 21:38:06.427 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-11-10 21:38:10.613 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-11-10 21:38:10.616 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:38:10.619 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 21:38:10.620 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-11-10 21:39:27.643 [http-nio-8082-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据邮箱查询用户信息], 入参: {"email":"hzl@abc.com"}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findByEmail =======
2025-11-10 21:39:27.644 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==>  Preparing: select id, password from t_user where email=?
2025-11-10 21:39:27.646 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==> Parameters: hzl@abc.com(String)
2025-11-10 21:39:27.647 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - <==      Total: 0
2025-11-10 21:39:27.648 [http-nio-8082-exec-6] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findByEmail request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 21:39:27.663 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"email":"hzl@abc.com"}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: register =======
2025-11-10 21:39:27.665 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==>  Preparing: select id, password from t_user where email=?
2025-11-10 21:39:27.665 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - ==> Parameters: hzl@abc.com(String)
2025-11-10 21:39:27.667 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.domain.mapper.UserDOMapper.selectByEmail - <==      Total: 0
2025-11-10 21:39:27.667 [http-nio-8082-exec-5] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册，email：hzl@abc.com，userDO：null
2025-11-10 21:39:27.684 [http-nio-8082-exec-5] DEBUG c.e.g.user.biz.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-10 21:39:27.685 [http-nio-8082-exec-5] DEBUG c.e.g.user.biz.domain.mapper.UserDOMapper.insert - ==> Parameters: 2101(Long), 14101(String), null, 小绿书14101(String), null, null, null, hzl@abc.com(String), null, 0(Byte), null, 2025-11-10T21:39:27.683176800(LocalDateTime), 2025-11-10T21:39:27.683176800(LocalDateTime), false(Boolean)
2025-11-10 21:39:27.688 [http-nio-8082-exec-5] DEBUG c.e.g.user.biz.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-11-10 21:39:27.688 [http-nio-8082-exec-5] DEBUG c.e.g.u.biz.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-11-10 21:39:27.689 [http-nio-8082-exec-5] DEBUG c.e.g.u.biz.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 2101(Long), 1(Long), 2025-11-10T21:39:27.688498200(LocalDateTime), 2025-11-10T21:39:27.688498200(LocalDateTime), false(Boolean)
2025-11-10 21:39:27.693 [http-nio-8082-exec-5] DEBUG c.e.g.u.biz.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-11-10 21:39:27.694 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-11-10 21:39:27.695 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-11-10 21:39:27.699 [http-nio-8082-exec-5] DEBUG c.e.g.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 21:39:27.755 [http-nio-8082-exec-5] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 92ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2101}======
2025-11-10 21:39:49.064 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:39:49.064 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":1}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:39:49.064 [http-nio-8082-exec-1] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=1, nickName=小绿书1000005, avatar=null)
2025-11-10 21:39:49.064 [http-nio-8082-exec-1] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":1,"nickName":"小绿书1000005","avatar":null}}======
2025-11-10 21:39:49.066 [http-nio-8082-exec-1] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 21:39:52.750 [http-nio-8082-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:39:52.752 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:39:52.752 [http-nio-8082-exec-2] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=2, nickName=小绿书1000006, avatar=null)
2025-11-10 21:39:52.752 [http-nio-8082-exec-2] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2,"nickName":"小绿书1000006","avatar":null}}======
2025-11-10 21:39:52.753 [http-nio-8082-exec-2] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 21:39:55.892 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:39:55.894 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:39:55.894 [http-nio-8082-exec-3] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=3, nickName=Yifan_Song, avatar=http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg)
2025-11-10 21:39:55.894 [http-nio-8082-exec-3] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 21:39:55.895 [http-nio-8082-exec-3] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 21:40:00.394 [http-nio-8082-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:40:00.395 [http-nio-8082-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":2100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:40:00.398 [http-nio-8082-exec-7] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 21:40:00.400 [http-nio-8082-exec-7] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-11-10 21:40:00.404 [http-nio-8082-exec-7] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-11-10 21:40:00.406 [http-nio-8082-exec-7] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2100,"nickName":"小绿书14100","avatar":null}}======
2025-11-10 21:40:00.407 [http-nio-8082-exec-7] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 21:40:35.174 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 100
2025-11-10 21:40:35.175 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":3}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:40:35.175 [http-nio-8082-exec-9] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=3, nickName=Yifan_Song, avatar=http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg)
2025-11-10 21:40:35.175 [http-nio-8082-exec-9] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":3,"nickName":"Yifan_Song","avatar":"http://127.0.0.1:9000/greennote/ed3122ed5db74ab8826cac31026ebae7.jpg"}}======
2025-11-10 21:40:35.177 [http-nio-8082-exec-9] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 100
2025-11-10 21:40:58.712 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:40:58.713 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":100}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:40:58.713 [http-nio-8082-exec-4] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=100, nickName=小绿书12100, avatar=null)
2025-11-10 21:40:58.713 [http-nio-8082-exec-4] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":100,"nickName":"小绿书12100","avatar":null}}======
2025-11-10 21:40:58.716 [http-nio-8082-exec-4] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 21:41:02.309 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:41:02.310 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":101}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:41:02.311 [http-nio-8082-exec-10] INFO  c.e.g.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存：FindUserByIdRspDTO(id=101, nickName=小绿书12101, avatar=null)
2025-11-10 21:41:02.311 [http-nio-8082-exec-10] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [根据id查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":101,"nickName":"小绿书12101","avatar":null}}======
2025-11-10 21:41:02.313 [http-nio-8082-exec-10] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 21:41:06.197 [http-nio-8082-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2101
2025-11-10 21:41:06.198 [http-nio-8082-exec-6] INFO  c.e.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [根据id查询用户信息], 入参: {"id":102}, 请求类: com.evan.greennote.user.biz.controller.UserController, 请求方法: findById =======
2025-11-10 21:41:06.205 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, greennote_id, `password`, nickname, avatar, birthday, background_img, email, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-11-10 21:41:06.206 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 102(Long)
2025-11-10 21:41:06.207 [http-nio-8082-exec-6] DEBUG c.e.g.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-11-10 21:41:06.209 [http-nio-8082-exec-6] WARN  c.e.g.user.biz.exception.GlobalExceptionHandler - /user/findById request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-11-10 21:41:06.210 [http-nio-8082-exec-6] INFO  c.e.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2101
2025-11-10 22:10:04.636 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-10 22:10:04.636 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-10 22:10:04.640 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-10 22:10:04.642 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-10 22:10:04.751 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-10 22:10:04.752 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-user with instance: Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-10 22:10:04.757 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-10 22:10:04.758 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-10 22:10:04.758 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 22:10:04.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@381e5d2f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-10 22:10:04.760 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1762776308298_127.0.0.1_39121
2025-11-10 22:10:04.762 [nacos-grpc-client-executor-127.0.0.1-1523] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1762776308298_127.0.0.1_39121]Ignore complete event,isRunning:false,isAbandon=false
2025-11-10 22:10:04.768 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7bc6a14d[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1524]
2025-11-10 22:10:04.768 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@54b83897[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2492]
2025-11-10 22:10:04.769 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-10 22:10:04.769 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-10 22:10:04.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-10 22:10:05.026 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-10 22:10:05.028 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-11-10 22:10:20.114 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 22:10:20.212 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 22:10:21.175 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 22:10:21.201 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 22:10:21.203 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - The following 1 profile is active: "dev"
2025-11-10 22:10:22.584 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 22:10:22.592 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 22:10:22.641 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-11-10 22:10:23.225 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=13d3b442-4405-3ffb-9e0f-d0c5635ac705
2025-11-10 22:10:23.318 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.search.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 22:10:23.321 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 22:10:23.325 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.evan.greennote.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-10 22:10:24.881 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-11-10 22:10:24.907 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-11-10 22:10:24.909 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-11-10 22:10:25.153 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-10 22:10:25.154 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3915 ms
2025-11-10 22:10:25.634 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-11-10 22:10:26.481 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-11-10 22:10:27.416 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-oss' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 22:10:28.337 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'GreenNote-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-11-10 22:10:30.097 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-11-10 22:10:30.109 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-11-10 22:10:30.109 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-11-10 22:10:30.111 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-11-10 22:10:30.112 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-11-10 22:10:30.156 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-11-10 22:10:30.157 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-11-10 22:10:30.159 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-11-10 22:10:30.167 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-11-10 22:10:30.167 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-11-10 22:10:30.173 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-11-10 22:10:30.190 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bcbc43c8-ce1a-4bac-85fd-542b1244455c
2025-11-10 22:10:30.228 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-11-10 22:10:30.228 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-11-10 22:10:30.229 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-11-10 22:10:30.235 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-11-10 22:10:30.315 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-11-10 22:10:31.779 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1762783831500_127.0.0.1_47675
2025-11-10 22:10:31.779 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Notify connected event to listeners.
2025-11-10 22:10:31.779 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-11-10 22:10:31.780 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-11-10 22:10:31.780 [main] INFO  com.alibaba.nacos.common.remote.client - [bcbc43c8-ce1a-4bac-85fd-542b1244455c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1264/0x000001399b906e80
2025-11-10 22:10:31.782 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] greennote registering service GreenNote-user with instance Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-11-10 22:10:31.800 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP GreenNote-user 10.36.15.120:8082 register finished
2025-11-10 22:10:32.024 [main] INFO  c.e.greennote.user.biz.GreenNoteUserBizApplication - Started GreenNoteUserBizApplication in 13.052 seconds (process running for 13.913)
2025-11-10 22:10:32.026 [main] INFO  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到redis中...
2025-11-10 22:10:32.752 [main] WARN  c.e.g.u.biz.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-11-10 22:11:03.255 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-11-10 22:11:03.256 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-11-10 22:11:03.263 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-11-10 22:11:03.264 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-11-10 22:11:03.344 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-11-10 22:11:03.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] greennote deregistering service GreenNote-user with instance: Instance{instanceId='null', ip='10.36.15.120', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-11-10 22:11:03.355 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-11-10 22:11:03.356 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@46826855[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-11-10 22:11:03.357 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1762783831500_127.0.0.1_47675
2025-11-10 22:11:03.361 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1554fc29[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 17]
2025-11-10 22:11:03.361 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@30246832[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 11]
2025-11-10 22:11:03.361 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-11-10 22:11:03.361 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-11-10 22:11:03.361 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-11-10 22:11:03.601 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-11-10 22:11:03.619 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
